<template>
  <PageContainer>
    <!-- È°µÈù¢Â§¥ÈÉ® -->
    <PageHeader
      title="È¢òÂ∫ìÁÆ°ÁêÜ"
      description="Êô∫ËÉΩÈ¢òÂ∫ìÁ≥ªÁªüÔºåÊîØÊåÅÂ§öÁßçÈ¢òÂûãÁöÑÂàõÂª∫„ÄÅÁºñËæëÂíåÁÆ°ÁêÜ"
      :icon="Collection"
    >
      <template #actions>
        <el-button size="large" @click="showCreateDialog" class="btn-primary">
          <el-icon><Plus /></el-icon>
          Êñ∞Âª∫È¢òÁõÆ
        </el-button>
        <el-button size="large" @click="showImportDialog" class="btn-primary">
          <el-icon><Upload /></el-icon>
          ÊâπÈáèÂØºÂÖ•
        </el-button>
        <el-button size="large" @click="exportQuestions" class="btn-primary">
          <el-icon><Download /></el-icon>
          ÂØºÂá∫È¢òÁõÆ
        </el-button>
      </template>
    </PageHeader>

    <!-- ÊêúÁ¥¢Èù¢Êùø -->
    <SearchPanel
      :search-model="searchForm"
      :searching="loading"
      @search="handleSearch"
      @reset="resetSearch"
      :columns="4"
    >
      <template #search-fields>
        <div class="search-field">
          <label>È¢òÁõÆ</label>
          <el-input
            v-model="searchForm.keyword"
            placeholder="ËæìÂÖ•È¢òÁõÆÊ†áÈ¢òÂÖ≥ÈîÆËØç"
            clearable
            class="search-input"
            @keyup.enter="handleSearch"
          />
        </div>
        
        <div class="search-field">
          <label>È¢òÂûã</label>
          <el-select v-model="searchForm.type" placeholder="ÂÖ®ÈÉ®È¢òÂûã" clearable class="filter-select">
            <el-option
              v-for="option in questionTypeOptions"
              :key="option.value"
              :label="option.label"
              :value="option.value"
            />
          </el-select>
        </div>
        
        <div class="search-field">
          <label>‰ºòÂÖàÁ∫ß</label>
          <el-select v-model="searchForm.priority" placeholder="ÂÖ®ÈÉ®‰ºòÂÖàÁ∫ß" clearable class="filter-select">
            <el-option label="ÂÖ®ÈÉ®‰ºòÂÖàÁ∫ß" :value="null" />
            <el-option label="‰Ωé‰ºòÂÖàÁ∫ß" :value="1" />
            <el-option label="‰∏≠‰ºòÂÖàÁ∫ß" :value="2" />
            <el-option label="È´ò‰ºòÂÖàÁ∫ß" :value="3" />
          </el-select>
        </div>
        
        <div class="search-field">
          <label>Áä∂ÊÄÅ</label>
          <el-select v-model="searchForm.status" placeholder="ÂÖ®ÈÉ®Áä∂ÊÄÅ" clearable class="filter-select">
            <el-option label="ÂÖ®ÈÉ®Áä∂ÊÄÅ" value="" />
            <el-option label="Â∑≤ÂêØÁî®" :value="1" />
            <el-option label="Â∑≤Á¶ÅÁî®" :value="0" />
          </el-select>
        </div>
      </template>
    </SearchPanel>

    <!-- üéØ ÁÆÄÊ¥Å‰ºòÈõÖÁöÑÁÆ°ÁêÜÁïåÈù¢ -->
    <div class="table-container">
      <!-- ÊâπÈáèÊìç‰ΩúÊ†è -->
      <transition name="fade">
        <div v-if="selectedQuestions.length > 0" class="batch-toolbar">
          <div class="selection-info">
            <span class="selected-count">Â∑≤ÈÄâÊã© {{ selectedQuestions.length }} È°π</span>
          </div>
          <div class="batch-actions">
            <el-button size="small" @click="batchExport">
              <el-icon><Download /></el-icon>
              ÂØºÂá∫
            </el-button>
            <el-button type="danger" size="small" @click="batchDelete">
              <el-icon><Delete /></el-icon>
              Âà†Èô§
            </el-button>
          </div>
        </div>
      </transition>

      <!-- Êï∞ÊçÆË°®Ê†º -->
      <DataTable
        :data="questionList"
        :loading="loading"
        :pagination="pagination"
        title="È¢òÁõÆÂàóË°®"
        :icon="Document"
        :show-batch-actions="false"
        :table-props="{ rowClassName: getRowClassName }"
        @selection-change="handleSelectionChange"
        @size-change="handleSizeChange"
        @current-change="handleCurrentChange"
        @row-click="handleRowClick"
        class="clean-data-table"
      >
        <el-table-column type="selection" width="60" />
        
        <!-- È¢òÁõÆÊ†áÈ¢ò -->
        <el-table-column prop="title" label="È¢òÁõÆÊ†áÈ¢ò" min-width="450" show-overflow-tooltip>
          <template #default="{ row }">
            <div class="title-cell">
              <div class="title-text">{{ row.title }}</div>
              <div class="title-meta">
                <el-icon><Clock /></el-icon>
                <span>{{ formatTime(row.updateTime) }}</span>
              </div>
            </div>
          </template>
        </el-table-column>
        
        <!-- È¢òÂûã -->
        <el-table-column prop="type" label="È¢òÂûã" width="140" align="center">
          <template #default="{ row }">
            <el-tag :type="getTypeTagType(row.type)" size="small">
              {{ getTypeName(row.type) }}
            </el-tag>
          </template>
        </el-table-column>
        
        <!-- ÂàÜÊï∞ -->
        <el-table-column prop="score" label="ÂàÜÊï∞" width="100" align="center">
          <template #default="{ row }">
            <div class="score-cell">
              {{ row.score }}ÂàÜ
            </div>
          </template>
        </el-table-column>
        
        <!-- ‰ºòÂÖàÁ∫ß -->
        <el-table-column prop="priority" label="‰ºòÂÖàÁ∫ß" width="120" align="center">
          <template #default="{ row }">
            <el-tag :type="getPriorityTagType(row.priority)" size="small">
              {{ getPriorityName(row.priority) }}
            </el-tag>
          </template>
        </el-table-column>
        
        <!-- Áä∂ÊÄÅ -->
        <el-table-column prop="status" label="Áä∂ÊÄÅ" width="100" align="center">
          <template #default="{ row }">
            <el-switch
              v-model="row.status"
              :active-value="1"
              :inactive-value="0"
              @change="toggleQuestionStatus(row)"
              active-color="#67c23a"
              inactive-color="#dcdfe6"
            />
          </template>
        </el-table-column>
        
        <!-- Êìç‰Ωú -->
        <el-table-column label="Êìç‰Ωú" width="320" fixed="right" align="center">
          <template #default="{ row }">
            <div class="action-buttons-group">
              <el-button 
                type="primary" 
                size="small" 
                @click="handlePreviewQuestion(row)"
                plain
                class="action-button"
              >
                <el-icon><View /></el-icon>
                È¢ÑËßà
              </el-button>
              
              <el-button 
                type="warning"
                size="small" 
                @click="editQuestion(row)"
                plain
                class="action-button"
              >
                <el-icon><Edit /></el-icon>
                ÁºñËæë
              </el-button>
              
              <el-button 
                type="success"
                size="small" 
                @click="copyQuestion(row)"
                plain
                class="action-button"
              >
                <el-icon><DocumentCopy /></el-icon>
                Â§çÂà∂
              </el-button>
              
              <el-button 
                type="danger" 
                size="small" 
                @click="deleteQuestion(row)"
                plain
                class="action-button"
              >
                <el-icon><Delete /></el-icon>
                Âà†Èô§
              </el-button>
            </div>
          </template>
        </el-table-column>
      </DataTable>
    </div>

    <!-- ÂàõÂª∫/ÁºñËæëÂØπËØùÊ°Ü - ‰øùÊåÅÁé∞ÊúâÊ†∑Âºè -->
    <el-dialog
      v-model="dialogVisible"
      :title="dialogTitle"
      width="900px"
      destroy-on-close
      @close="resetForm"
      class="modern-dialog"
      :class="{ 'edit-mode': isEdit }"
    >
      <div class="dialog-content">
        <!-- ËøõÂ∫¶ÊåáÁ§∫Âô® -->
        <div class="progress-steps">
          <div class="step-item" :class="{ active: true, completed: questionForm.title }">
            <div class="step-number">1</div>
            <div class="step-text">Âü∫Á°Ä‰ø°ÊÅØ</div>
          </div>
          <div class="step-item" :class="{ active: questionForm.title, completed: questionForm.type && (questionForm.optionList?.[0] || questionForm.correctAnswer) }">
            <div class="step-number">2</div>
            <div class="step-text">È¢òÁõÆÊèèËø∞</div>
          </div>
          <div class="step-item" :class="{ active: questionForm.type && (questionForm.optionList?.[0] || questionForm.correctAnswer), completed: questionForm.explanation }">
            <div class="step-number">3</div>
            <div class="step-text">Á≠îÊ°àËß£Êûê</div>
          </div>
        </div>
        
        <el-form
          ref="questionFormRef"
          :model="questionForm"
          :rules="questionRules"
          label-width="100px"
          class="modern-form"
        >
          <!-- Âü∫Á°Ä‰ø°ÊÅØÂç°Áâá -->
          <div class="form-section section-basic" :class="{ completed: isBasicInfoCompleted }">
            <div class="section-title">
              <el-icon><InfoFilled /></el-icon>
              Âü∫Á°Ä‰ø°ÊÅØ
            </div>
            <div class="section-content">
              <el-form-item label="È¢òÁõÆÊ†áÈ¢ò" prop="title">
                <el-input
                  v-model="questionForm.title"
                  placeholder="ËØ∑ËæìÂÖ•È¢òÁõÆÊ†áÈ¢òÔºåÂª∫ËÆÆÁÆÄÊ¥ÅÊòé‰∫Ü"
                  maxlength="200"
                  show-word-limit
                  class="form-input"
                  @input="handleTitleChange"
                />
              </el-form-item>

              <div class="form-row">
                <el-form-item label="È¢òÂûã" prop="type" class="form-col">
                  <el-select 
                    v-model="questionForm.type" 
                    placeholder="ËØ∑ÈÄâÊã©È¢òÂûã" 
                    @change="handleTypeChange"
                    class="form-select"
                  >
                    <el-option
                      v-for="option in questionTypeOptions"
                      :key="option.value"
                      :label="option.label"
                      :value="option.value"
                    />
                  </el-select>
                </el-form-item>
                
                <el-form-item label="ÂàÜÊï∞" prop="score" class="form-col">
                  <el-input-number
                    v-model="questionForm.score"
                    :min="1"
                    :max="100"
                    controls-position="right"
                    class="form-number"
                  />
                </el-form-item>
                
                <el-form-item label="‰ºòÂÖàÁ∫ß" prop="priority" class="form-col">
                  <el-select v-model="questionForm.priority" class="form-select">
                    <el-option label="‰Ωé" :value="1" />
                    <el-option label="‰∏≠" :value="2" />
                    <el-option label="È´ò" :value="3" />
                  </el-select>
                </el-form-item>
              </div>
            </div>
          </div>

          <!-- È¢òÁõÆÊèèËø∞Âç°Áâá -->
          <div class="form-section section-content" :class="{ completed: isContentCompleted }">
            <div class="section-title">
              <el-icon><Document /></el-icon>
              È¢òÁõÆÊèèËø∞
            </div>
            <div class="section-content">
              <!-- Êô∫ËÉΩÊèêÁ§∫Âå∫Âüü -->
              <div v-if="questionForm.type && descriptionSuggestion" class="smart-suggestion">
                <el-alert
                  :title="descriptionSuggestion.message"
                  :type="descriptionSuggestion.type"
                  :closable="false"
                  show-icon
                  class="suggestion-toggle"
                />
              </div>

              <!-- Êô∫ËÉΩÊòæÁ§∫È¢òÁõÆÊèèËø∞Â≠óÊÆµ -->
              <el-form-item 
                v-if="questionNeedsDescription || showDescriptionField" 
                label="È¢òÁõÆÊèèËø∞" 
                prop="content"
                class="description-field"
              >
                <el-input
                  v-model="questionForm.content"
                  type="textarea"
                  :rows="4"
                  :placeholder="descriptionPlaceholder"
                  maxlength="1000"
                  show-word-limit
                  class="form-textarea"
                />
                <div class="field-tip">
                  <el-text size="small" type="info">
                    <el-icon><InfoFilled /></el-icon>
                    {{ questionForm.type === 3 || questionForm.type === 4 ? '‰∏ªËßÇÈ¢òÂª∫ËÆÆËØ¶ÁªÜËØ¥ÊòéËØÑÂàÜÊ†áÂáÜ' : 'ÂèØÈÄâÂ≠óÊÆµÔºå‰∏∫Â§çÊùÇÈ¢òÁõÆÊèê‰æõË°•ÂÖÖËØ¥Êòé' }}
                  </el-text>
                </div>
              </el-form-item>

              <!-- ÂàáÊç¢ÊåâÈíÆ -->
              <div v-if="!questionNeedsDescription" class="toggle-description">
                <el-button 
                  type="text" 
                  @click="showDescriptionField = !showDescriptionField"
                  class="toggle-btn"
                >
                  <el-icon>{{ showDescriptionField ? 'Remove' : 'Plus' }}</el-icon>
                  {{ showDescriptionField ? 'ÈöêËóèÈ¢òÁõÆÊèèËø∞' : 'Ê∑ªÂä†È¢òÁõÆÊèèËø∞' }}
                </el-button>
              </div>

              <!-- ÈÄâÊã©È¢òÈÄâÈ°π -->
              <div v-if="questionForm.type === 1 || questionForm.type === 2" class="options-section">
                <el-form-item label="Á≠îÊ°àÈÄâÈ°π" prop="options">
                  <div class="options-container">
                    <div
                      v-for="(option, index) in questionForm.optionList"
                      :key="index"
                      class="option-item"
                    >
                      <div class="option-input">
                        <span class="option-label">{{ String.fromCharCode(65 + index) }}.</span>
                        <el-input
                          v-model="questionForm.optionList[index]"
                          :placeholder="`ËØ∑ËæìÂÖ•ÈÄâÈ°π ${String.fromCharCode(65 + index)}`"
                          @input="updateOptionsJson"
                          class="option-text"
                        />
                        <el-button
                          v-if="questionForm.optionList.length > 2"
                          type="danger"
                          icon="Close"
                          size="small"
                          circle
                          @click="removeOption(index)"
                          class="remove-btn"
                        />
                      </div>
                    </div>
                    <el-button
                      v-if="questionForm.optionList.length < 6"
                      type="primary"
                      icon="Plus"
                      size="small"
                      @click="addOption"
                      class="add-option-btn"
                    >
                      Ê∑ªÂä†ÈÄâÈ°π
                    </el-button>
                  </div>
                </el-form-item>

                <!-- Ê≠£Á°ÆÁ≠îÊ°à -->
                <el-form-item label="Ê≠£Á°ÆÁ≠îÊ°à" prop="correctAnswer">
                  <div v-if="questionForm.type === 1" class="answer-selection">
                    <el-radio-group v-model="questionForm.correctAnswer" @change="updateCorrectAnswerJson">
                      <el-radio 
                        v-for="(option, index) in questionForm.optionList.filter(opt => opt.trim())"
                        :key="index"
                        :label="String.fromCharCode(65 + index)"
                        class="answer-option"
                      >
                        {{ String.fromCharCode(65 + index) }}. {{ option }}
                      </el-radio>
                    </el-radio-group>
                  </div>
                  <div v-else-if="questionForm.type === 2" class="answer-selection">
                    <el-checkbox-group v-model="questionForm.correctAnswerList" @change="updateCorrectAnswerJson">
                      <el-checkbox 
                        v-for="(option, index) in questionForm.optionList.filter(opt => opt.trim())"
                        :key="index"
                        :label="String.fromCharCode(65 + index)"
                        class="answer-option"
                      >
                        {{ String.fromCharCode(65 + index) }}. {{ option }}
                      </el-checkbox>
                    </el-checkbox-group>
                  </div>
                </el-form-item>
              </div>

              <!-- Â°´Á©∫È¢ò/ÁÆÄÁ≠îÈ¢òÂèÇËÄÉÁ≠îÊ°à -->
              <el-form-item 
                v-if="questionForm.type === 3 || questionForm.type === 4" 
                label="ÂèÇËÄÉÁ≠îÊ°à" 
                prop="correctAnswer"
              >
                <el-input
                  v-model="questionForm.correctAnswer"
                  type="textarea"
                  :rows="3"
                  :placeholder="questionForm.type === 3 ? 'ËØ∑ËæìÂÖ•Ê†áÂáÜÁ≠îÊ°àÔºàÂ§ö‰∏™Á≠îÊ°àÁî®ÂàÜÂè∑ÂàÜÈöîÔºâ' : 'ËØ∑ËæìÂÖ•ÂèÇËÄÉÁ≠îÊ°àË¶ÅÁÇπ'"
                  maxlength="500"
                  show-word-limit
                  class="form-textarea"
                />
              </el-form-item>
            </div>
          </div>

          <!-- Á≠îÊ°àËß£ÊûêÂç°Áâá -->
          <div class="form-section section-analysis" :class="{ completed: isAnalysisCompleted }">
            <div class="section-title">
              <el-icon><ChatLineSquare /></el-icon>
              Á≠îÊ°àËß£Êûê
            </div>
            <div class="section-content">
              <el-form-item label="ËØ¶ÁªÜËß£Êûê" prop="explanation">
                <el-input
                  v-model="questionForm.explanation"
                  type="textarea"
                  :rows="3"
                  placeholder="ËØ∑ËæìÂÖ•È¢òÁõÆÁöÑËØ¶ÁªÜËß£ÊûêÔºåÂ∏ÆÂä©Áî®Êà∑ÁêÜËß£Ê≠£Á°ÆÁ≠îÊ°à"
                  maxlength="500"
                  show-word-limit
                  class="form-textarea"
                />
              </el-form-item>
            </div>
          </div>
        </el-form>
      </div>

      <template #footer>
        <div class="dialog-footer">
          <el-button @click="dialogVisible = false" size="large" class="cancel-btn">
            ÂèñÊ∂à
          </el-button>
          <el-button 
            type="primary" 
            @click="saveQuestion" 
            :loading="saveLoading" 
            size="large"
            class="save-btn"
          >
            <el-icon v-if="!saveLoading"><Check /></el-icon>
            {{ isEdit ? '‰øùÂ≠ò‰øÆÊîπ' : 'ÂàõÂª∫È¢òÁõÆ' }}
          </el-button>
        </div>
      </template>
    </el-dialog>

    <!-- È¢òÁõÆÈ¢ÑËßà - Âç°ÁâáÂºèÂØπËØùÊ°Ü -->
    <el-dialog
      v-model="previewVisible"
      title="È¢òÁõÆÈ¢ÑËßà"
      width="800px"
      class="preview-dialog"
    >
      <div class="preview-content" v-if="previewQuestion">
        <div class="preview-header">
          <div class="question-title">{{ previewQuestion.title }}</div>
          <div class="question-meta">
            <div class="meta-item">
              <el-icon><Collection /></el-icon>
              <el-tag :style="{ backgroundColor: getQuestionTypeColor(previewQuestion.type), color: 'white', border: 'none' }" size="default">
                {{ getQuestionTypeName(previewQuestion.type) }}
              </el-tag>
            </div>
            <div class="meta-item">
              <el-icon><Star /></el-icon>
              <el-tag type="warning" size="default">{{ previewQuestion.score }}ÂàÜ</el-tag>
            </div>
            <div class="meta-item">
              <el-icon><Flag /></el-icon>
              <el-tag :type="getPriorityType(previewQuestion.priority)" size="default">
                {{ getPriorityName(previewQuestion.priority) }}‰ºòÂÖàÁ∫ß
              </el-tag>
            </div>
          </div>
        </div>

        <div class="question-body">
          <div class="content-section">
            <div class="section-header">
              <el-icon color="#667eea"><Document /></el-icon>
                              <span>È¢òÁõÆÊèèËø∞</span>
            </div>
            <div class="question-content">{{ previewQuestion.content }}</div>
          </div>
          
          <!-- ÈÄâÊã©È¢òÈÄâÈ°πÊòæÁ§∫ -->
          <div v-if="previewQuestion.type === 1 || previewQuestion.type === 2" class="options-section">
            <div class="section-header">
              <el-icon color="#667eea"><List /></el-icon>
              <span>ÈÄâÈ°πÂÜÖÂÆπ</span>
            </div>
            <div class="options-display">
              <div
                v-for="(option, index) in getOptionsArray(previewQuestion.options)"
                :key="index"
                class="option-display"
                :class="{ 'correct-option': isCorrectOption(index, previewQuestion.correctAnswer) }"
              >
                <div class="option-prefix">
                  <span class="option-label">{{ String.fromCharCode(65 + index) }}</span>
                </div>
                <span class="option-text">{{ option }}</span>
                <div class="option-status">
                  <el-icon v-if="isCorrectOption(index, previewQuestion.correctAnswer)" color="#67c23a" size="18">
                    <CircleCheckFilled />
                  </el-icon>
                </div>
              </div>
            </div>
          </div>

          <!-- Â°´Á©∫È¢ò/ÁÆÄÁ≠îÈ¢òÁ≠îÊ°à -->
          <div v-if="previewQuestion.type === 3 || previewQuestion.type === 4" class="answer-section">
            <div class="section-header">
              <el-icon color="#667eea"><EditPen /></el-icon>
              <span>ÂèÇËÄÉÁ≠îÊ°à</span>
            </div>
            <div class="answer-display">
              <div class="answer-content">{{ previewQuestion.correctAnswer }}</div>
            </div>
          </div>

          <!-- Á≠îÊ°àËß£Êûê -->
          <div v-if="previewQuestion.explanation" class="content-section">
            <div class="section-header">
              <el-icon color="#667eea"><ChatLineSquare /></el-icon>
              <span>Á≠îÊ°àËß£Êûê</span>
            </div>
            <div class="question-content">{{ previewQuestion.explanation }}</div>
          </div>
        </div>
      </div>
    </el-dialog>

    <!-- ÂØºÂÖ•ÂØπËØùÊ°Ü -->
    <el-dialog v-model="importVisible" title="ÊâπÈáèÂØºÂÖ•È¢òÁõÆ" width="600px" class="import-dialog">
      <div class="import-content">
        <el-alert type="info" title="ÂØºÂÖ•ËØ¥Êòé" :closable="false" class="import-tips">
          <template #default>
            <ul>
              <li>ÊîØÊåÅExcelÊñá‰ª∂Ê†ºÂºèÔºà.xlsx, .xlsÔºâ</li>
              <li>ËØ∑ÊåâÁÖßÊ®°ÊùøÊ†ºÂºèÂáÜÂ§áÊï∞ÊçÆ</li>
              <li>Âª∫ËÆÆÂçïÊ¨°ÂØºÂÖ•‰∏çË∂ÖËøá1000Êù°Êï∞ÊçÆ</li>
            </ul>
          </template>
        </el-alert>
        
        <el-upload
          ref="uploadRef"
          :auto-upload="false"
          :on-change="handleFileChange"
          :show-file-list="false"
          accept=".xlsx,.xls"
          class="upload-area"
        >
          <div class="upload-content">
            <el-icon size="50" color="#c0c4cc"><UploadFilled /></el-icon>
            <div class="upload-text">ÁÇπÂáªÈÄâÊã©Êñá‰ª∂ÊàñÊãñÊãΩÊñá‰ª∂Âà∞Ê≠§Â§Ñ</div>
            <div class="upload-hint">ÊîØÊåÅ .xlsx, .xls Ê†ºÂºè</div>
          </div>
        </el-upload>
      </div>

      <template #footer>
        <div class="dialog-footer">
          <el-button @click="downloadTemplate" class="template-btn">
            <el-icon><Download /></el-icon>
            ‰∏ãËΩΩÊ®°Êùø
          </el-button>
          <el-button @click="importVisible = false">ÂèñÊ∂à</el-button>
          <el-button type="primary" @click="handleImport" :loading="importLoading">
            ÂºÄÂßãÂØºÂÖ•
          </el-button>
        </div>
      </template>
    </el-dialog>
  </PageContainer>
</template>

<script setup>
import { ref, reactive, onMounted, computed, nextTick } from 'vue'
import { ElMessage, ElMessageBox } from 'element-plus'
import { SimplePremiumDialog } from '@/utils/simplePremiumDialog.js'
import { questionBankAPI } from '../api'
import { 
  QUESTION_TYPE_OPTIONS,
  QUESTION_TYPE_NAMES,
  QUESTION_TYPE_COLORS,
  PRIORITY_NAMES
} from '../constants/questionTypes'
import { formatDateTime } from '@/utils/time'
import { PageContainer, PageHeader, SearchPanel, DataTable } from '@/components'
import ActionButtons from '@/components/base/ActionButtons.vue'
import { 
  Collection, Plus, Upload, Download, Document, Edit, View, 
  CopyDocument, Delete, Switch, Star, Clock, DocumentCopy,
  Check, Close, List, EditPen, ChatLineSquare, CircleCheckFilled, UploadFilled
} from '@element-plus/icons-vue'

/**
 * È¢òÂ∫ìÁÆ°ÁêÜ - Êô∫ËÉΩÂåñ‰∫ßÂìÅËÆæËÆ°
 * 
 * Ê†∏ÂøÉËÆæËÆ°ÁêÜÂøµÔºö
 * 1. ÁÆÄÂçïÈ¢òÁõÆÊó†ÈúÄÊèèËø∞ÔºåÂ§çÊùÇÈ¢òÁõÆÊô∫ËÉΩÊèêÁ§∫
 * 2. Ê∏êËøõÂºèË°®ÂçïÂ±ïÁ§∫ÔºåÈÅøÂÖç‰ø°ÊÅØËøáËΩΩ
 * 3. Ê†πÊçÆÈ¢òÂûãÂíåÂÜÖÂÆπÊô∫ËÉΩÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊèèËø∞Â≠óÊÆµ
 * 
 * Êô∫ËÉΩÂåñÂäüËÉΩÔºö
 * - È¢òÁõÆÁ±ªÂûãÈ©±Âä®Ôºö‰∏ªËßÇÈ¢òËá™Âä®ÊòæÁ§∫ÊèèËø∞Â≠óÊÆµ
 * - Ê†áÈ¢òÈïøÂ∫¶ÊÑüÁü•ÔºöÈïøÊ†áÈ¢òÊô∫ËÉΩÊèêÁ§∫Ê∑ªÂä†ÊèèËø∞  
 * - Êô∫ËÉΩÂª∫ËÆÆÁ≥ªÁªüÔºöÊ†πÊçÆÈ¢òÂûãÊèê‰æõÊèèËø∞Âª∫ËÆÆ
 * - ÂèØÈÄâÂ≠óÊÆµÊéßÂà∂ÔºöÁî®Êà∑ÂèØÊâãÂä®ÂàáÊç¢ÊèèËø∞Â≠óÊÆµÊòæÁ§∫
 * - Âä®ÊÄÅplaceholderÔºöÊ†πÊçÆÈ¢òÂûãÊòæÁ§∫‰∏çÂêåÁöÑËæìÂÖ•ÊèêÁ§∫
 */

// ÁªÑ‰ª∂ÂêçÁß∞
defineOptions({
  name: 'QuestionBankManage'
})

// ÂìçÂ∫îÂºèÊï∞ÊçÆ
const loading = ref(false)
const saveLoading = ref(false)
const dialogVisible = ref(false)
const previewVisible = ref(false)
const isEdit = ref(false)
const selectedQuestions = ref([])
const questionFormRef = ref()

// ÊêúÁ¥¢Ë°®Âçï
const searchForm = reactive({
  keyword: '',
  type: '',
  priority: '',
  status: ''
})

// ÂàÜÈ°µ
const pagination = reactive({
  current: 1,
  size: 20,
  total: 0
})

// È¢òÁõÆÂàóË°®
const questionList = ref([])
const selectedIds = ref([])
const selectAll = ref(false)
const isIndeterminate = ref(false)
// ÁßªÈô§Âç°ÁâáËßÜÂõæÊ®°ÂºèÔºå‰∏ìÊ≥®Ë°®Ê†ºÁÆ°ÁêÜÁïåÈù¢

// È¢òÁõÆË°®Âçï
const questionForm = reactive({
  id: null,
  title: '',
  type: null,
  content: '',
  options: '',
  optionList: ['', ''],
  correctAnswer: '',
  correctAnswerList: [],
  score: 5,
  priority: 2,
  status: 1,
  explanation: ''
})

// Êô∫ËÉΩÂåñÊéßÂà∂
const showAdvancedOptions = ref(false)
const showDescriptionField = ref(false)

// È¢ÑËßàÊï∞ÊçÆ
const previewQuestion = ref(null)

// Ë°®ÂçïÈ™åËØÅËßÑÂàô
const questionRules = {
  title: [
    { required: true, message: 'ËØ∑ËæìÂÖ•È¢òÁõÆÊ†áÈ¢ò', trigger: 'blur' }
  ],
  type: [
    { required: true, message: 'ËØ∑ÈÄâÊã©È¢òÂûã', trigger: 'change' }
  ],
  content: [
    { required: true, message: 'ËØ∑ËæìÂÖ•È¢òÁõÆÊèèËø∞', trigger: 'blur' }
  ],
  correctAnswer: [
    { required: true, message: 'ËØ∑ËÆæÁΩÆÊ≠£Á°ÆÁ≠îÊ°à', trigger: 'blur' }
  ],
  score: [
    { required: true, message: 'ËØ∑ËÆæÁΩÆÂàÜÊï∞', trigger: 'blur' }
  ],
  priority: [
    { required: true, message: 'ËØ∑ÈÄâÊã©‰ºòÂÖàÁ∫ß', trigger: 'change' }
  ]
}

// ËÆ°ÁÆóÂ±ûÊÄß
const dialogTitle = computed(() => isEdit.value ? 'ÁºñËæëÈ¢òÁõÆ' : 'Êñ∞Âª∫È¢òÁõÆ')
const questionTypeOptions = computed(() => [
  { value: null, label: 'ÂÖ®ÈÉ®È¢òÂûã' },
  ...QUESTION_TYPE_OPTIONS.filter(item => item.value !== 0)
])

// Êô∫ËÉΩÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊèèËø∞
const questionNeedsDescription = computed(() => {
  // ‰∏ªËßÇÈ¢ò(Â°´Á©∫È¢ò„ÄÅÁÆÄÁ≠îÈ¢ò)ÈÄöÂ∏∏ÈúÄË¶ÅËØ¶ÁªÜËØ¥Êòé
  if (questionForm.type === 3 || questionForm.type === 4) return true
  
  // È¢òÁõÆÊ†áÈ¢òËøáÈïøÂèØËÉΩÈúÄË¶ÅË°•ÂÖÖËØ¥Êòé
  if (questionForm.title && questionForm.title.length > 30) return true
  
  // È´òÈöæÂ∫¶È¢òÁõÆÂª∫ËÆÆÊ∑ªÂä†ÊèèËø∞
  if (questionForm.priority === 3) return true
  
  // Â∑≤ÁªèÊúâÊèèËø∞ÂÜÖÂÆπÊó∂ÊòæÁ§∫
  if (questionForm.content && questionForm.content.trim()) return true
  
  return false
})

// Êô∫ËÉΩÊèêÁ§∫ÊñáÊ°à
const descriptionPlaceholder = computed(() => {
  switch (questionForm.type) {
    case 1: // ÂçïÈÄâÈ¢ò
      return questionForm.title && questionForm.title.length > 20 
        ? 'È¢òÁõÆËæÉÈïøÔºåÂèØË°•ÂÖÖËØ¥Êòé‰ª•ÊèêÈ´òÁêÜËß£Ê∏ÖÊô∞Â∫¶'
        : 'È¢òÁõÆÁÆÄÊ¥ÅÊòé‰∫ÜÔºåÈÄöÂ∏∏Êó†ÈúÄÊ∑ªÂä†ÊèèËø∞'
        
    case 2: // Â§öÈÄâÈ¢ò
      return 'Â§öÈÄâÈ¢òÂª∫ËÆÆËØ¥ÊòéÈÄâÊã©Ë¶ÅÊ±ÇÔºåÂ¶Ç"ÂèØÂ§öÈÄâ"„ÄÅ"Ëá≥Â∞ëÈÄâÊã©2È°π"Á≠â'
      
    case 3: // Â°´Á©∫È¢ò
      return 'ËØ∑ËØ¥ÊòéÁ≠îÈ¢òË¶ÅÊ±ÇÔºåÂ¶Ç"ËØ∑Â°´ÂÖ•Ê≠£Á°ÆÁöÑÂåñÂ≠¶ÂÖ¨Âºè"„ÄÅ"Á≠îÊ°àÊ†ºÂºèË¶ÅÊ±Ç"Á≠â'
      
    case 4: // ÁÆÄÁ≠îÈ¢ò
      return 'ËØ∑ËØ¥ÊòéËØÑÂàÜÊ†áÂáÜ„ÄÅÁ≠îÈ¢òË¶ÅÁÇπÊàñÂ≠óÊï∞Ë¶ÅÊ±ÇÔºåÂ¶Ç"ËØ∑‰ªé‰ª•‰∏ã3‰∏™Áª¥Â∫¶ÂàÜÊûêÔºåÊØèÁÇπ2ÂàÜ"'
      
    default:
      return '‰∏∫Â§çÊùÇÈ¢òÁõÆÊèê‰æõËØ¶ÁªÜËØ¥ÊòéÔºåÂ∏ÆÂä©Áî®Êà∑Êõ¥Â•ΩÁêÜËß£È¢òÊÑè'
  }
})

// Êô∫ËÉΩÂª∫ËÆÆ‰ø°ÊÅØ
const descriptionSuggestion = computed(() => {
  if (!questionForm.type) return ''
  
  const titleLength = questionForm.title ? questionForm.title.length : 0
  
  if (titleLength < 15 && (questionForm.type === 1 || questionForm.type === 2)) {
    return {
      type: 'success',
      message: 'üí° È¢òÁõÆÁÆÄÊ¥ÅÊòé‰∫ÜÔºåÂª∫ËÆÆÊó†ÈúÄÊ∑ªÂä†ÊèèËø∞'
    }
  }
  
  if (questionForm.type === 3 || questionForm.type === 4) {
    return {
      type: 'warning', 
      message: 'üí° ‰∏ªËßÇÈ¢òÂª∫ËÆÆÊ∑ªÂä†ËØÑÂàÜÊ†áÂáÜÊàñÁ≠îÈ¢òË¶ÅÊ±Ç'
    }
  }
  
  if (titleLength > 30) {
    return {
      type: 'info',
      message: 'üí° È¢òÁõÆËæÉÈïøÔºåÂª∫ËÆÆÊ∑ªÂä†ÊèèËø∞ÊèêÈ´òÁêÜËß£Ê∏ÖÊô∞Â∫¶'
    }
  }
  
  return {
    type: 'info',
    message: 'üí° ÂèØÈÄâÊã©ÊÄßÊ∑ªÂä†ÊèèËø∞ÔºåËÆ©È¢òÁõÆÊõ¥Ê∏ÖÊô∞'
  }
})

// ÂÆåÊàêÁä∂ÊÄÅÂà§Êñ≠
const isBasicInfoCompleted = computed(() => {
  return questionForm.title && questionForm.type && questionForm.score && questionForm.priority
})

const isContentCompleted = computed(() => {
  if (!questionForm.type) return false
  
  // ÈÄâÊã©È¢òÈúÄË¶ÅÊúâÈÄâÈ°πÂíåÊ≠£Á°ÆÁ≠îÊ°à
  if (questionForm.type === 1 || questionForm.type === 2) {
    const hasValidOptions = questionForm.optionList && 
      questionForm.optionList.filter(opt => opt && opt.trim()).length >= 2
    
    const hasCorrectAnswer = questionForm.type === 1 
      ? questionForm.correctAnswer
      : questionForm.correctAnswerList && questionForm.correctAnswerList.length > 0
      
    return hasValidOptions && hasCorrectAnswer
  }
  
  // Â°´Á©∫È¢ò/ÁÆÄÁ≠îÈ¢òÈúÄË¶ÅÊúâÊ≠£Á°ÆÁ≠îÊ°à
  if (questionForm.type === 3 || questionForm.type === 4) {
    return questionForm.correctAnswer && questionForm.correctAnswer.trim()
  }
  
  return false
})

const isAnalysisCompleted = computed(() => {
  return questionForm.explanation && questionForm.explanation.trim()
})

// Â∑•ÂÖ∑ÂáΩÊï∞
const getQuestionTypeName = (type) => QUESTION_TYPE_NAMES[type] || 'Êú™Áü•'
const getQuestionTypeColor = (type) => QUESTION_TYPE_COLORS[type] || '#909399'
const getPriorityName = (priority) => PRIORITY_NAMES[priority] || 'Êú™Áü•'
const getPriorityType = (priority) => {
  switch (priority) {
    case 1: return 'info'
    case 2: return 'warning' 
    case 3: return 'danger'
    default: return 'info'
  }
}

const formatTime = (time) => {
  if (!time) return '-'
  return formatDateTime(time)
}

// ÈÄâÊã©ÊéßÂà∂ÊñπÊ≥ï

const handleSelectAll = (value) => {
  if (value) {
    selectedIds.value = questionList.value.map(q => q.id)
    selectedQuestions.value = [...questionList.value]
  } else {
    selectedIds.value = []
    selectedQuestions.value = []
  }
  updateSelectionState()
}

const updateSelectionState = () => {
  const selectedCount = selectedIds.value.length
  const totalCount = questionList.value.length
  
  if (selectedCount === 0) {
    selectAll.value = false
    isIndeterminate.value = false
  } else if (selectedCount === totalCount) {
    selectAll.value = true
    isIndeterminate.value = false
  } else {
    selectAll.value = false
    isIndeterminate.value = true
  }
}

const batchExport = () => {
  if (selectedQuestions.value.length === 0) {
    ElMessage.warning('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÂØºÂá∫ÁöÑÈ¢òÁõÆ')
    return
  }
  
  // ÂÆûÁé∞ÊâπÈáèÂØºÂá∫ÈÄªËæë
  ElMessage.success(`ÂØºÂá∫${selectedQuestions.value.length}ÈÅìÈ¢òÁõÆ`)
}

// ‰ºòÂåñÁ±ªÂûãÂíå‰ºòÂÖàÁ∫ßÊñπÊ≥ï
const getTypeName = (type) => QUESTION_TYPE_NAMES[type] || 'Êú™Áü•'
const getTypeTagType = (type) => {
  switch (type) {
    case 1: return 'primary'
    case 2: return 'success' 
    case 3: return 'warning'
    case 4: return 'info'
    default: return ''
  }
}

const getPriorityTagType = (priority) => {
  switch (priority) {
    case 1: return 'info'
    case 2: return 'warning' 
    case 3: return 'danger'
    default: return 'info'
  }
}

// Ë°®Ê†ºÂàóÈÖçÁΩÆ
const tableColumns = ref([
  { prop: 'selection', label: '', type: 'selection', width: 50 },
  { prop: 'title', label: 'È¢òÁõÆÊ†áÈ¢ò', minWidth: 500 },
  { prop: 'type', label: 'È¢òÂûã', width: 90 },
  { prop: 'score', label: 'ÂàÜÊï∞', width: 60 },
  { prop: 'priority', label: '‰ºòÂÖàÁ∫ß', width: 75 },
  { prop: 'status', label: 'Áä∂ÊÄÅ', width: 65 },
  { prop: 'actions', label: 'Êìç‰Ωú', width: 140, fixed: 'right' }
])

// ÊñπÊ≥ï
const loadQuestionList = async () => {
  try {
    loading.value = true
    const params = {
      current: pagination.current,
      size: pagination.size,
      ...searchForm
    }
    
    console.log('ÂèëÈÄÅËØ∑Ê±ÇÂèÇÊï∞:', params)
    console.log('ÂÖ∑‰ΩìÊêúÁ¥¢ÂèÇÊï∞:', {
      keyword: params.keyword,
      type: params.type,
      priority: params.priority,
      status: params.status
    })
    const response = await questionBankAPI.getList(params)
    console.log('Êé•Êî∂Âà∞ÁöÑÂìçÂ∫î:', response)
    console.log('ËøîÂõûÁöÑÊï∞ÊçÆÊù°Êï∞:', response.data?.records?.length)
    if (params.priority) {
      console.log('ËøáÊª§ÂêéÊï∞ÊçÆÁöÑ‰ºòÂÖàÁ∫ßÂàÜÂ∏É:', response.data?.records?.map(item => ({ title: item.title, priority: item.priority })))
    }
    if (params.status !== null && params.status !== undefined) {
      console.log('ËøáÊª§ÂêéÊï∞ÊçÆÁöÑÁä∂ÊÄÅÂàÜÂ∏É:', response.data?.records?.map(item => ({ title: item.title, status: item.status })))
    }
    
    if (response.data) {
      questionList.value = response.data.records || []
      pagination.total = response.data.total || 0
      console.log('È¢òÁõÆÂàóË°®Êï∞ÊçÆ:', questionList.value)
      console.log('Êï∞ÊçÆÊÄªÊï∞:', pagination.total)
    }
  } catch (error) {
    console.error('Âä†ËΩΩÈ¢òÁõÆÂàóË°®Â§±Ë¥•:', error)
    ElMessage.error('Âä†ËΩΩÈ¢òÁõÆÂàóË°®Â§±Ë¥•')
  } finally {
    loading.value = false
  }
}

const handleSearch = () => {
  console.log('ÊêúÁ¥¢Êù°‰ª∂:', searchForm) // Debug‰ø°ÊÅØ
  pagination.current = 1
  loadQuestionList()
}

const resetSearch = () => {
  // Âº∫Âà∂ÈáçÁΩÆÊêúÁ¥¢Ë°®Âçï
  searchForm.keyword = ''
  searchForm.type = null
  searchForm.priority = null
  searchForm.status = null
  
  // Âº∫Âà∂Ëß¶ÂèëÂìçÂ∫îÂºèÊõ¥Êñ∞
  nextTick(() => {
    handleSearch()
  })
}

const handleSizeChange = (size) => {
  pagination.size = size
  pagination.current = 1
  loadQuestionList()
}

const handleCurrentChange = (current) => {
  pagination.current = current
  loadQuestionList()
}

const handleSelectionChange = (selection) => {
  if (Array.isArray(selection)) {
    // Êù•Ëá™Ë°®Ê†ºÁöÑÈÄâÊã©ÂèòÂåñ
    selectedQuestions.value = selection
    selectedIds.value = selection.map(item => item.id)
  } else {
    // Êù•Ëá™Â§çÈÄâÊ°ÜÁöÑÂèòÂåñ
    if (selection) {
      selectedIds.value = [...selectedIds.value, selection]
    }
    selectedQuestions.value = questionList.value.filter(q => selectedIds.value.includes(q.id))
  }
  updateSelectionState()
}

const handleRowClick = (row, column, event) => {
  // Âè™ÊúâÁÇπÂáªÈÄâÊã©ÂàóÊâçÂ§ÑÁêÜÈÄâ‰∏≠ÈÄªËæë
  if (column && column.type === 'selection') {
    // Element PlusÁöÑË°®Ê†º‰ºöËá™Âä®Â§ÑÁêÜÈÄâÊã©ÔºåËøôÈáå‰∏çÈúÄË¶ÅÊâãÂä®Â§ÑÁêÜ
    return
  }
  
  // Â¶ÇÊûúÁÇπÂáªÁöÑÊòØÊìç‰ΩúÂàóÊàñÂÖ∂‰ªñÂàóÔºå‰∏çÂ§ÑÁêÜÈÄâ‰∏≠
  if (column && (column.property === 'actions' || column.type !== 'selection')) {
    return
  }
  
  // ÂÖ∂‰ªñÊÉÖÂÜµ‰πü‰∏çÂ§ÑÁêÜÈÄâ‰∏≠ÔºåËÆ©Áî®Êà∑ÂøÖÈ°ªÁÇπÂáªÂ§çÈÄâÊ°ÜÊâçËÉΩÈÄâ‰∏≠
  return
}

// Ë°®Ê†ºÊ†∑Âºè
const headerCellStyle = {
  background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)',
  color: '#4a5568',
  fontWeight: '600',
  fontSize: '14px',
  padding: '16px 12px'
}

const tableRowClassName = ({ rowIndex }) => {
  return rowIndex % 2 === 0 ? 'even-row' : 'odd-row'
}

// Âä®ÊÄÅË°åÊ†∑ÂºèÁ±ªÂêç - ÊîØÊåÅÈÄâ‰∏≠Áä∂ÊÄÅ
const getRowClassName = ({ row, rowIndex }) => {
  let className = rowIndex % 2 === 0 ? 'even-row' : 'odd-row'
  
  // Ê∑ªÂä†ÈÄâ‰∏≠Áä∂ÊÄÅ
  if (selectedIds.value.includes(row.id)) {
    className += ' selected-row'
  }
  
  return className
}

// üîß ÂèØÊâ©Â±ïÁöÑË°åÊìç‰ΩúÈÖçÁΩÆÂ∑•ÂéÇ
const createRowActions = (row) => {
  return [
    {
      key: 'preview',
      label: 'È¢ÑËßà',
      icon: View,
      type: 'primary',
      handler: () => handlePreviewQuestion(row),
      permission: 'question:preview'
    },
    {
      key: 'edit', 
      label: 'ÁºñËæë',
      icon: Edit,
      type: 'default',
      handler: () => editQuestion(row),
      permission: 'question:edit'
    },
    {
      key: 'copy',
      label: 'Â§çÂà∂', 
      icon: DocumentCopy,
      type: 'success',
      handler: () => copyQuestion(row),
      permission: 'question:create'
    },
    {
      key: 'delete',
      label: 'Âà†Èô§',
      icon: Delete, 
      type: 'danger',
      handler: () => deleteQuestion(row),
      permission: 'question:delete',
      confirm: {
        title: 'Á°ÆËÆ§Âà†Èô§',
        message: `Á°ÆÂÆöË¶ÅÂà†Èô§È¢òÁõÆ"${row.title}"ÂêóÔºü`
      }
    }
  ].filter(action => {
    // ÊùÉÈôêËøáÊª§ÈÄªËæëÂèØ‰ª•Âú®ËøôÈáåÊ∑ªÂä†
    // return hasPermission(action.permission)
    return true
  })
}

// ÊòæÁ§∫ÂàõÂª∫ÂØπËØùÊ°Ü
const showCreateDialog = () => {
  isEdit.value = false
  dialogVisible.value = true
  resetForm()
}

// ÁºñËæëÈ¢òÁõÆ
const editQuestion = (row) => {
  isEdit.value = true
  
  // Â°´ÂÖÖË°®ÂçïÊï∞ÊçÆ
  try {
    Object.assign(questionForm, {
      ...row,
      optionList: row.options ? JSON.parse(row.options) : ['', ''],
      correctAnswerList: row.type === 2 ? (row.correctAnswer ? row.correctAnswer.split(',') : []) : []
    })
  } catch (error) {
    console.error('Ëß£ÊûêÈ¢òÁõÆÊï∞ÊçÆÂ§±Ë¥•:', error)
    // Â¶ÇÊûúËß£ÊûêÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÂÄº
    Object.assign(questionForm, {
      ...row,
      optionList: ['', ''],
      correctAnswerList: []
    })
  }
  
  dialogVisible.value = true
}

// È¢ÑËßàÈ¢òÁõÆ
const handlePreviewQuestion = (row) => {
  previewQuestion.value = row
  previewVisible.value = true
}

// Â§çÂà∂È¢òÁõÆ
const copyQuestion = async (row) => {
  try {
    const newQuestion = { ...row }
    delete newQuestion.id
    newQuestion.title = `${row.title} (ÂâØÊú¨)`
    
    await questionBankAPI.create(newQuestion)
    ElMessage.success('Â§çÂà∂ÊàêÂäü')
    loadQuestionList()
  } catch (error) {
    console.error('Â§çÂà∂È¢òÁõÆÂ§±Ë¥•:', error)
    ElMessage.error('Â§çÂà∂È¢òÁõÆÂ§±Ë¥•')
  }
}

// Âà†Èô§È¢òÁõÆ
const deleteQuestion = async (row) => {
  try {
    await SimplePremiumDialog.confirm(
      `Á°ÆÂÆöË¶ÅÂà†Èô§È¢òÁõÆ"${row.title}"ÂêóÔºü\n\n‚ö†Ô∏è Ê≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºåËØ∑Ë∞®ÊÖéÊìç‰ΩúÔºÅ`,
      'üóëÔ∏è Á°ÆËÆ§Âà†Èô§È¢òÁõÆ',
      {
        confirmButtonText: 'Á°ÆËÆ§Âà†Èô§',
        cancelButtonText: 'ÂèñÊ∂à',
        type: 'error'
      }
    )
    
    await questionBankAPI.delete(row.id)
    ElMessage.success('Âà†Èô§ÊàêÂäü')
    loadQuestionList()
  } catch (error) {
    if (error !== 'cancel') {
      console.error('Âà†Èô§È¢òÁõÆÂ§±Ë¥•:', error)
      ElMessage.error('Âà†Èô§È¢òÁõÆÂ§±Ë¥•')
    }
  }
}

// ÂàáÊç¢È¢òÁõÆÁä∂ÊÄÅ
const toggleQuestionStatus = async (row) => {
  try {
    await questionBankAPI.toggleStatus(row.id, row.status)
    ElMessage.success(`${row.status ? 'ÂêØÁî®' : 'Á¶ÅÁî®'}ÊàêÂäü`)
    // ÈáçÊñ∞Âä†ËΩΩÂàóË°®‰ª•Á°Æ‰øùÊï∞ÊçÆÂêåÊ≠•
    loadQuestionList()
  } catch (error) {
    console.error('ÂàáÊç¢Áä∂ÊÄÅÂ§±Ë¥•:', error)
    ElMessage.error('ÂàáÊç¢Áä∂ÊÄÅÂ§±Ë¥•')
    // ÊÅ¢Â§çÂéüÁä∂ÊÄÅ
    row.status = row.status === 1 ? 0 : 1
  }
}

// ÊâπÈáèÂà†Èô§
const batchDelete = async () => {
  if (selectedQuestions.value.length === 0) {
    ElMessage.warning('ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÂà†Èô§ÁöÑÈ¢òÁõÆ')
    return
  }
  
  try {
    await SimplePremiumDialog.confirm(
      `Á°ÆÂÆöË¶ÅÂà†Èô§ÈÄâ‰∏≠ÁöÑ ${selectedQuestions.value.length} ÈÅìÈ¢òÁõÆÂêóÔºü\n\n‚ö†Ô∏è Ê≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºåËØ∑Ë∞®ÊÖéÊìç‰ΩúÔºÅ`,
      'üóëÔ∏è Á°ÆËÆ§ÊâπÈáèÂà†Èô§',
      {
        confirmButtonText: 'Á°ÆËÆ§Âà†Èô§',
        cancelButtonText: 'ÂèñÊ∂à',
        type: 'error'
      }
    )
    
    const ids = selectedQuestions.value.map(item => item.id)
    await questionBankAPI.batchDelete(ids)
    ElMessage.success('ÊâπÈáèÂà†Èô§ÊàêÂäü')
    selectedQuestions.value = []
    loadQuestionList()
  } catch (error) {
    if (error !== 'cancel') {
      console.error('ÊâπÈáèÂà†Èô§Â§±Ë¥•:', error)
      ElMessage.error('ÊâπÈáèÂà†Èô§Â§±Ë¥•')
    }
  }
}

// ÊâπÈáèÊìç‰Ωú
const batchToggleStatus = () => {
  ElMessage.info('ÊâπÈáèÁä∂ÊÄÅÂàáÊç¢ÂäüËÉΩÂºÄÂèë‰∏≠...')
}

// È¢òÂûãÊîπÂèòÂ§ÑÁêÜ
const handleTypeChange = (type) => {
  // È¢òÂûãÊîπÂèòÊó∂ÈáçÁΩÆÁõ∏ÂÖ≥Â≠óÊÆµ
  if (type === 1 || type === 2) {
    // ÈÄâÊã©È¢ò
    if (!questionForm.optionList || questionForm.optionList.length < 2) {
      questionForm.optionList = ['', '']
    }
  }
  questionForm.correctAnswer = ''
  questionForm.correctAnswerList = []
  
  // Êô∫ËÉΩÂ§ÑÁêÜÊèèËø∞Â≠óÊÆµÊòæÁ§∫
  nextTick(() => {
    // Â¶ÇÊûúÊòØ‰∏ªËßÇÈ¢òÔºåËá™Âä®ÊòæÁ§∫ÊèèËø∞Â≠óÊÆµ
    if (type === 3 || type === 4) {
      showDescriptionField.value = true
    }
    // Â¶ÇÊûúÊòØÁÆÄÂçïÈÄâÊã©È¢ò‰∏îÊ†áÈ¢òËæÉÁü≠ÔºåÂèØ‰ª•ÈöêËóèÊèèËø∞Â≠óÊÆµ
    else if ((type === 1 || type === 2) && questionForm.title && questionForm.title.length < 20) {
      showDescriptionField.value = false
    }
  })
}

// Ê∑ªÂä†ÈÄâÈ°π
const addOption = () => {
  if (questionForm.optionList.length < 6) {
    questionForm.optionList.push('')
  }
}

// Âà†Èô§ÈÄâÈ°π
const removeOption = (index) => {
  if (questionForm.optionList.length > 2) {
    questionForm.optionList.splice(index, 1)
    updateOptionsJson()
  }
}

// Êô∫ËÉΩÂà§Êñ≠È¢òÁõÆÊ†áÈ¢òÂèòÂåñ
const handleTitleChange = () => {
  nextTick(() => {
    const titleLength = questionForm.title ? questionForm.title.length : 0
    
    // Â¶ÇÊûúÊ†áÈ¢òÂèòÈïø‰∏îÊòØÈÄâÊã©È¢òÔºåÂèØËÉΩÈúÄË¶ÅÊèèËø∞
    if (titleLength > 25 && (questionForm.type === 1 || questionForm.type === 2)) {
      if (!questionForm.content) {
        showDescriptionField.value = true
      }
    }
    // Â¶ÇÊûúÊ†áÈ¢òÂæàÁÆÄÁü≠‰∏îÊòØÈÄâÊã©È¢òÔºåÂèØ‰ª•ÈöêËóèÊèèËø∞
    else if (titleLength < 15 && (questionForm.type === 1 || questionForm.type === 2) && !questionForm.content) {
      showDescriptionField.value = false
    }
  })
}

// Êõ¥Êñ∞ÈÄâÈ°πJSON
const updateOptionsJson = () => {
  questionForm.options = JSON.stringify(questionForm.optionList.filter(opt => opt.trim()))
}

// Êõ¥Êñ∞Ê≠£Á°ÆÁ≠îÊ°àJSON
const updateCorrectAnswerJson = () => {
  if (questionForm.type === 2) {
    questionForm.correctAnswer = questionForm.correctAnswerList.join(',')
  }
}

// Ëé∑ÂèñÈÄâÈ°πÊï∞ÁªÑ
const getOptionsArray = (options) => {
  try {
    return JSON.parse(options || '[]')
  } catch {
    return []
  }
}

// Ê£ÄÊü•ÊòØÂê¶‰∏∫Ê≠£Á°ÆÈÄâÈ°π
const isCorrectOption = (index, correctAnswer) => {
  if (!correctAnswer) return false
  const correctOptions = correctAnswer.split(',')
  const optionLabel = String.fromCharCode(65 + index)
  return correctOptions.includes(optionLabel)
}

// ‰øùÂ≠òÈ¢òÁõÆ
const saveQuestion = async () => {
  try {
    await questionFormRef.value.validate()
    
    saveLoading.value = true
    
    // Â§ÑÁêÜÈÄâÈ°πÊï∞ÊçÆ
    if (questionForm.type === 1 || questionForm.type === 2) {
      updateOptionsJson()
      if (questionForm.type === 2) {
        updateCorrectAnswerJson()
      }
    }
    
    const questionData = { ...questionForm }
    delete questionData.optionList
    delete questionData.correctAnswerList
    // explanationÂ≠óÊÆµ‰øùÁïôÔºåÂêéÁ´ØÂ∑≤ÊîØÊåÅÁ≠îÊ°àËß£ÊûêÂäüËÉΩ
    
    // Ë∞ÉËØï‰ø°ÊÅØÔºöÁ°ÆËÆ§ÂèëÈÄÅÁöÑÊï∞ÊçÆÊ†ºÂºè
    console.log('ÂèëÈÄÅÂà∞ÂêéÁ´ØÁöÑÊï∞ÊçÆ:', questionData)
    console.log('‰ºòÂÖàÁ∫ßÂÄº:', questionData.priority, 'Á±ªÂûã:', typeof questionData.priority)
    
    if (isEdit.value) {
      await questionBankAPI.update(questionData.id, questionData)
      ElMessage.success('Êõ¥Êñ∞ÊàêÂäü')
    } else {
      await questionBankAPI.create(questionData)
      ElMessage.success('ÂàõÂª∫ÊàêÂäü')
    }
    
    dialogVisible.value = false
    loadQuestionList()
  } catch (error) {
    console.error('‰øùÂ≠òÈ¢òÁõÆÂ§±Ë¥•:', error)
    ElMessage.error('‰øùÂ≠òÂ§±Ë¥•')
  } finally {
    saveLoading.value = false
  }
}

// ÈáçÁΩÆË°®Âçï
const resetForm = () => {
  // Âü∫Á°Ä‰ø°ÊÅØÈáçÁΩÆ
  questionForm.id = null
  questionForm.title = ''
  questionForm.type = null
  questionForm.content = ''
  questionForm.options = ''
  questionForm.optionList = ['', '']
  questionForm.correctAnswer = ''
  questionForm.correctAnswerList = []
  questionForm.score = 5
  questionForm.priority = 2
  questionForm.status = 1
  questionForm.explanation = ''
  
  // Êô∫ËÉΩÊéßÂà∂ÈáçÁΩÆ
  showAdvancedOptions.value = false
  showDescriptionField.value = false
  
  // Ê∏ÖÁ©∫Ë°®ÂçïÈ™åËØÅ
  nextTick(() => {
    if (questionFormRef.value) {
      questionFormRef.value.clearValidate()
    }
  })
}

// ÂØºÂÖ•ÂØºÂá∫Áõ∏ÂÖ≥ÂèòÈáè
const importVisible = ref(false)
const importLoading = ref(false)

// ÊòæÁ§∫ÂØºÂÖ•ÂØπËØùÊ°Ü
const showImportDialog = () => {
  importVisible.value = true
}

// Êñá‰ª∂ÈÄâÊã©Â§ÑÁêÜ
const handleFileChange = (file) => {
  console.log('ÈÄâÊã©Êñá‰ª∂:', file)
}

// Â§ÑÁêÜÂØºÂÖ•
const handleImport = () => {
  importLoading.value = true
  // Ê®°ÊãüÂØºÂÖ•ËøáÁ®ã
  setTimeout(() => {
    importLoading.value = false
    importVisible.value = false
    ElMessage.success('ÂØºÂÖ•ÊàêÂäü')
  }, 2000)
}

// ‰∏ãËΩΩÊ®°Êùø
const downloadTemplate = () => {
  ElMessage.info('Ê®°Êùø‰∏ãËΩΩÂäüËÉΩÂºÄÂèë‰∏≠...')
}

// ÂØºÂá∫È¢òÁõÆ
const exportQuestions = () => {
  ElMessage.info('ÂØºÂá∫ÂäüËÉΩÂºÄÂèë‰∏≠...')
}

// ÁîüÂëΩÂë®Êúü
onMounted(() => {
  console.log('È°µÈù¢ÂàùÂßãÂåñÔºåÂºÄÂßãÂä†ËΩΩÈ¢òÁõÆÂàóË°®...')
  loadQuestionList()
})
</script>

<style scoped>
/* üéØ ÁÆÄÊ¥Å‰ºòÈõÖÁöÑÁé∞‰ª£ÂåñÁïåÈù¢ */
.table-container {
  background: #ffffff;
  border-radius: 16px;
  padding: 24px;
  margin-top: 20px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
  border: 1px solid #e5e7eb;
}

/* üîß ÊâπÈáèÊìç‰ΩúÊ†è */
.batch-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: #f8fafc;
  border-radius: 12px;
  margin-bottom: 20px;
  border: 1px solid #e2e8f0;
}

.selection-info {
  color: #64748b;
  font-weight: 500;
  font-size: 14px;
}

.selected-count {
  color: #0f172a;
  font-weight: 600;
}

.batch-actions {
  display: flex;
  gap: 8px;
}

/* üé® Ë°®Ê†ºÊ†∑Âºè */
.clean-data-table {
  margin-top: 0;
}

:deep(.clean-data-table .el-table) {
  background: #ffffff;
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  overflow: hidden;
}

:deep(.clean-data-table .el-table__header) {
  background: #f8fafc;
}

:deep(.clean-data-table .el-table__header th) {
  background: transparent !important;
  border-bottom: 1px solid #e5e7eb;
  color: #374151;
  font-weight: 600;
  font-size: 13px;
  padding: 16px 12px;
}

:deep(.clean-data-table .el-table__body tr) {
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  position: relative !important;
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(5px) !important;
}

:deep(.clean-data-table .el-table__body tr:hover) {
  background: linear-gradient(135deg, 
    rgba(102, 126, 234, 0.08) 0%, 
    rgba(118, 75, 162, 0.06) 50%, 
    rgba(83, 109, 254, 0.08) 100%) !important;
  backdrop-filter: blur(10px) !important;
  transform: translateX(4px) scale(1.005) !important;
  box-shadow: 
    6px 0 20px rgba(102, 126, 234, 0.12),
    0 4px 16px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.6) !important;
  border-left: 4px solid rgba(102, 126, 234, 0.3) !important;
  z-index: 2 !important;
}

:deep(.clean-data-table .el-table__row.selected-row) {
  background: linear-gradient(135deg, #e0f2fe 0%, #e3f2fd 100%) !important;
  border-left: 3px solid #0ea5e9 !important;
}

:deep(.clean-data-table .el-table__row.selected-row:hover) {
  background: linear-gradient(135deg, #bae6fd 0%, #dbeafe 100%) !important;
}

:deep(.clean-data-table .el-table__row.current-row) {
  background: #e3f2fd !important;
}

/* üé® ÂÅ∂Êï∞Ë°åÂíåÂ•áÊï∞Ë°åÁöÑÁ≤æËá¥ËÉåÊôØ */
:deep(.clean-data-table .el-table__body tr:nth-child(even)) {
  background: linear-gradient(135deg, rgba(248, 250, 252, 0.7) 0%, rgba(241, 245, 249, 0.8) 100%) !important;
}

:deep(.clean-data-table .el-table__body tr:nth-child(odd)) {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(252, 252, 253, 0.9) 100%) !important;
}

/* üåü ÊÇ¨ÂÅúÊó∂Ë¶ÜÁõñÊñëÈ©¨Á∫πÔºåÁªü‰∏ÄÊòæÁ§∫Ê∏êÂèòÊïàÊûú */
:deep(.clean-data-table .el-table__body tr:nth-child(even):hover),
:deep(.clean-data-table .el-table__body tr:nth-child(odd):hover) {
  background: linear-gradient(135deg, 
    rgba(102, 126, 234, 0.12) 0%, 
    rgba(118, 75, 162, 0.08) 30%,
    rgba(99, 102, 241, 0.10) 70%,
    rgba(83, 109, 254, 0.12) 100%) !important;
  backdrop-filter: blur(15px) !important;
  transform: translateX(6px) scale(1.008) !important;
  box-shadow: 
    8px 0 24px rgba(102, 126, 234, 0.18),
    0 6px 20px rgba(0, 0, 0, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -1px 0 rgba(102, 126, 234, 0.1) !important;
  border-left: 5px solid rgba(102, 126, 234, 0.4) !important;
  z-index: 3 !important;
}

:deep(.clean-data-table .el-table__body td) {
  border-bottom: 1px solid rgba(102, 126, 234, 0.08) !important;
  padding: 20px 16px;
  vertical-align: middle;
  transition: all 0.3s ease !important;
}

/* üé≠ ÊÇ¨ÂÅúÊó∂ÂçïÂÖÉÊ†ºÂÜÖÂÆπÁöÑÂæÆÂä®ÊïàÊûú */
:deep(.clean-data-table .el-table__body tr:hover td) {
  color: #1a202c !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
}

:deep(.clean-data-table .el-table__body tr:hover .title-text) {
  color: #2d3748 !important;
  transform: translateX(2px) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

:deep(.clean-data-table .el-table__body tr:hover .el-tag) {
  transform: scale(1.05) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

:deep(.clean-data-table .el-table__body tr:hover .el-switch) {
  transform: scale(1.1) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* üìù Ê†áÈ¢òÂçïÂÖÉÊ†º */
.title-cell {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.title-text {
  font-weight: 600;
  color: #0f172a;
  line-height: 1.4;
  font-size: 14px;
}

.title-meta {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  color: #64748b;
}

.title-meta .el-icon {
  font-size: 12px;
}

/* ‚≠ê ÂàÜÊï∞ÊòæÁ§∫ */
.score-cell {
  color: #059669;
  font-weight: 600;
  font-size: 14px;
}

/* üéÆ Êìç‰ΩúÊåâÈíÆÁªÑ - ‰ºòÈõÖÂπ≥Èì∫ËÆæËÆ° */
.action-buttons-group {
  display: flex;
  gap: 8px;
  justify-content: center;
  align-items: center;
  flex-wrap: nowrap;
  white-space: nowrap;
  width: 100%;
  padding: 4px 0;
}

/* Âü∫Á°ÄÊåâÈíÆÊ†∑ÂºèÂ∑≤ÈÄöËøá:deep()ÈÄâÊã©Âô®Áªü‰∏ÄÂ§ÑÁêÜ */

/* ÁßªÈô§ÈáçÂ§çÊ†∑ÂºèÔºåÂ∑≤ÈÄöËøá:deep()ÈÄâÊã©Âô®Â§ÑÁêÜ */

/* üé≠ ËøáÊ∏°Âä®Áîª */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* üì± ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 768px) {
  .table-container {
    padding: 16px;
    margin-top: 16px;
  }
  
  .batch-toolbar {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }
  
  .action-buttons-group {
    gap: 6px;
    padding: 2px 0;
  }
  
  .action-buttons-group .action-button {
    font-size: 11px !important;
    padding: 4px 8px !important;
    height: 28px !important;
    min-width: 50px !important;
  }
  
  .action-buttons-group .action-button .el-icon {
    font-size: 12px !important;
    margin-right: 2px !important;
  }
}





/* üì± ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 1200px) {
  .premium-management-container {
    padding: 24px;
    border-radius: 20px;
  }
  
  .smart-control-bar {
    flex-direction: column;
    gap: 20px;
    align-items: stretch;
  }
  
  .stats-panel {
    justify-content: center;
  }
}

@media (max-width: 768px) {
  .premium-management-container {
    padding: 20px;
    border-radius: 16px;
    margin-top: 16px;
  }
  
  .selection-control {
    flex-direction: column;
    gap: 16px;
    align-items: stretch;
  }
  
  .batch-operations-panel {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }
  
  .batch-actions {
    justify-content: space-around;
  }
  
  .premium-btn {
    flex: 1;
    min-width: 0;
  }
  
  .stats-panel {
    flex-direction: column;
    gap: 12px;
  }
  
  .stat-card {
    justify-content: center;
  }
}

/* ÂØπËØùÊ°ÜÊ†∑Âºè‰øùÊåÅ‰∏çÂèò - Ëøô‰∫õÊòØÈ°µÈù¢ÁâπÂÆöÁöÑ */
.modern-dialog {
  z-index: var(--z-modal) !important;
  isolation: isolate;
}

.modern-dialog :deep(.el-dialog) {
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-2xl);
  margin-top: 5vh !important;
  margin-bottom: 5vh !important;
  max-height: 90vh;
  overflow: hidden;
  z-index: var(--z-modal) !important;
}

.dialog-content {
  padding: var(--spacing-2xl);
  background: var(--color-gray-50);
  min-height: 500px;
}

.form-section {
  margin-bottom: var(--spacing-lg);
  background: var(--color-white);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  box-shadow: var(--shadow-card);
  transition: var(--transition-normal);
  overflow: hidden;
  position: relative;
  z-index: 1;
}

.form-section:hover {
  box-shadow: var(--shadow-lg);
  border-color: rgba(102, 126, 234, 0.2);
  transform: translateY(-2px);
}

.form-section:last-child {
  margin-bottom: 0;
}

.section-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  color: var(--color-white);
  margin: 0;
  padding: var(--spacing-lg) var(--spacing-2xl);
  background: var(--gradient-primary);
  border-bottom: none;
  position: relative;
}

.section-title .el-icon {
  color: var(--color-white);
  font-size: var(--text-lg);
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
}

.section-content {
  background: var(--color-white);
  padding: var(--spacing-2xl);
  border-radius: 0;
}

.dialog-content .form-row {
  display: flex;
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-lg);
  align-items: flex-start;
}

.dialog-content .form-row:last-child {
  margin-bottom: 0;
}

.form-col {
  flex: 1;
  min-width: 0;
}

/* Ë°®ÂçïÈ°πÊ†∑ÂºèÁ≤æÁªÜË∞ÉÊï¥ */
:deep(.el-form-item) {
  margin-bottom: var(--spacing-lg);
}

:deep(.el-form-item:last-child) {
  margin-bottom: 0;
}

:deep(.el-form-item__label) {
  font-weight: var(--font-medium);
  color: var(--color-gray-700);
  font-size: var(--text-sm);
  padding-bottom: var(--spacing-sm);
  line-height: var(--line-height-normal);
  margin-bottom: var(--spacing-sm);
  min-height: 20px;
  display: flex;
  align-items: center;
}

/* ‰øÆÂ§çform-rowÂÜÖË°®ÂçïÈ°πÂØπÈΩêÈóÆÈ¢ò */
:deep(.form-row .el-form-item) {
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  margin-bottom: 0;
}

:deep(.form-row .el-form-item__content) {
  flex: 1;
  display: flex;
  align-items: flex-end;
}

:deep(.form-row .el-form-item__label) {
  margin-bottom: var(--spacing-sm);
  flex-shrink: 0;
}

/* Progress Steps */
.progress-steps {
  display: flex;
  justify-content: center;
  margin-bottom: var(--spacing-2xl);
  background: var(--color-white);
  padding: var(--spacing-xl);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
}

.step-item {
  display: flex;
  align-items: center;
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  transition: var(--transition-normal);
}

.step-item:not(:last-child)::after {
  content: '';
  width: 40px;
  height: 2px;
  background: var(--color-gray-200);
  margin: 0 var(--spacing-lg);
  transition: var(--transition-normal);
}

.step-item.completed {
  color: var(--color-success);
}

.step-item.completed::after {
  background: var(--color-success);
}

.step-item.active {
  color: var(--color-primary);
  font-weight: var(--font-semibold);
}

.step-number {
  width: 24px;
  height: 24px;
  border-radius: var(--radius-full);
  background: var(--color-gray-200);
  color: var(--color-gray-600);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  margin-right: var(--spacing-sm);
  transition: var(--transition-normal);
}

.step-item.completed .step-number {
  background: var(--color-success);
  color: var(--color-white);
}

.step-item.active .step-number {
  background: var(--color-primary);
  color: var(--color-white);
}

/* ÈÄâÈ°πÁºñËæëÂô®Ê†∑Âºè */
.option-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-md);
  padding: var(--spacing-md);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  transition: var(--transition-normal);
}

.option-item:hover {
  background: var(--color-gray-100);
}

.option-prefix {
  width: 32px;
  height: 32px;
  background: var(--gradient-primary);
  color: var(--color-white);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
  flex-shrink: 0;
}

.option-input {
  flex: 1;
}

.option-actions {
  display: flex;
  gap: var(--spacing-sm);
}

/* Á≠îÊ°àÈÄâÊã©Âå∫Âüü */
.answer-selection {
  background: var(--color-white);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin-top: var(--spacing-lg);
}

.answer-options {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
}

.answer-option {
  padding: var(--spacing-sm) var(--spacing-lg);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: var(--transition-normal);
  font-weight: var(--font-medium);
}

.answer-option:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

.answer-option.selected {
  border-color: var(--color-success);
  background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
  color: var(--color-success);
}

/* Smart suggestions */
.smart-suggestion {
  margin: var(--spacing-lg) 0;
  padding: var(--spacing-md) var(--spacing-lg);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--color-primary);
  background: var(--color-primary-50);
}

.suggestion-toggle {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-lg);
  padding: var(--spacing-md);
  border: 2px dashed var(--color-gray-300);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: var(--transition-normal);
  background: var(--color-white);
}

.suggestion-toggle:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

/* È¢ÑËßàÂØπËØùÊ°ÜÊ†∑Âºè */
.preview-content {
  padding: var(--spacing-2xl);
  background: var(--color-white);
  max-height: 70vh;
  overflow-y: auto;
}

.preview-header {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
  padding-bottom: var(--spacing-xl);
  border-bottom: 2px solid var(--color-gray-100);
}

.preview-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: var(--color-gray-800);
  margin-bottom: var(--spacing-md);
}

.preview-meta {
  display: flex;
  justify-content: center;
  gap: var(--spacing-lg);
  flex-wrap: wrap;
}

.meta-item {
  background: var(--color-gray-100);
  padding: var(--spacing-sm) var(--spacing-lg);
  border-radius: var(--radius-2xl);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.preview-section {
  margin-bottom: var(--spacing-2xl);
}

.section-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-gray-700);
  margin-bottom: var(--spacing-lg);
}

.question-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
  padding: var(--spacing-lg);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--color-primary);
}

.options-display {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.option-display {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
  padding: var(--spacing-lg);
  background: var(--color-white);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: var(--transition-normal);
}

.option-display:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.option-display.correct-option {
  border-color: var(--color-success);
  background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
}

.option-label {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-full);
  background: var(--color-gray-200);
  color: var(--color-gray-600);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
}

.correct-option .option-label {
  background: var(--gradient-success);
  color: var(--color-white);
}

.option-text {
  flex: 1;
  font-size: var(--text-sm);
  color: var(--color-gray-700);
}

.option-status {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.answer-display {
  padding: var(--spacing-lg);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  border: 2px solid var(--color-gray-200);
}

.answer-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
}

.explanation-section {
  background: var(--color-gray-50);
  padding: var(--spacing-xl);
  border-radius: var(--radius-lg);
  border: 2px solid var(--color-gray-200);
}

.explanation-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-gray-700);
  margin-bottom: var(--spacing-lg);
}

.explanation-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
}

/* ÂØºÂÖ•ÂØπËØùÊ°Ü */
.import-dialog {
  z-index: var(--z-modal);
}

.import-content {
  padding: var(--spacing-xl);
}

.import-tips {
  margin-bottom: var(--spacing-xl);
}

.upload-area {
  border: 2px dashed var(--color-gray-300);
  border-radius: var(--radius-lg);
  padding: var(--spacing-4xl);
  text-align: center;
  cursor: pointer;
  transition: var(--transition-normal);
}

.upload-area:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

.upload-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-md);
}

.upload-text {
  font-size: var(--text-lg);
  font-weight: var(--font-medium);
  color: var(--color-gray-700);
}

.upload-hint {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.dialog-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-lg) var(--spacing-2xl);
  border-top: 1px solid var(--color-gray-200);
}

.template-btn {
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  color: var(--color-gray-600);
}

.template-btn:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 768px) {
  .dialog-content .form-row {
    flex-direction: column;
    gap: var(--spacing-lg);
  }
  
  .preview-meta {
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .option-display {
    flex-direction: column;
    text-align: center;
    gap: var(--spacing-md);
  }
  
  .progress-steps {
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .step-item:not(:last-child)::after {
    display: none;
  }
}

/* ÊêúÁ¥¢Â≠óÊÆµÂûÇÁõ¥Â±Ö‰∏≠Ê†∑Âºè - Âº∫Âà∂Ë¶ÜÁõñ */
.search-field {
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  align-items: stretch !important;
  height: 68px !important;
  min-height: 68px !important;
  max-height: 68px !important;
  padding: 8px 0 !important;
  box-sizing: border-box !important;
}

.search-field label {
  font-size: 14px !important;
  font-weight: 500 !important;
  color: #6b7280 !important;
  line-height: 1.2 !important;
  margin: 0 0 6px 0 !important;
  padding: 0 !important;
  display: block !important;
  width: 100% !important;
  text-align: left !important;
  flex-shrink: 0 !important;
}

.search-field .el-input,
.search-field .el-select {
  height: 40px !important;
  width: 100% !important;
  flex: 1 !important;
  min-height: 40px !important;
}

.search-field .el-input__wrapper,
.search-field .el-select__wrapper {
  height: 40px !important;
  display: flex !important;
  align-items: center !important;
}

/* üéØ ‰∏ì‰∏öÁÆ°ÁêÜÁ≥ªÁªüË°®Ê†ºËÆæËÆ° - Âπ≥Ë°°ÁæéËßÇ‰∏éÊïàÁéá */
:deep(.modern-table .el-table__header) {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.03) 0%, rgba(118, 75, 162, 0.03) 100%) !important;
  backdrop-filter: blur(10px) !important;
  border-bottom: 2px solid rgba(102, 126, 234, 0.08) !important;
}

:deep(.modern-table .el-table__header th) {
  background: transparent !important;
  border: none !important;
  padding: 16px 12px !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  color: #374151 !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.08) !important;
  white-space: nowrap !important;
}

:deep(.modern-table .el-table__row) {
  transition: all 0.2s ease !important;
  background: rgba(255, 255, 255, 0.8) !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.05) !important;
}

:deep(.modern-table .el-table__row:hover) {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.04) 0%, rgba(118, 75, 162, 0.04) 100%) !important;
  transform: translateX(2px) !important;
  box-shadow: 
    4px 0 12px rgba(102, 126, 234, 0.08),
    0 2px 8px rgba(0, 0, 0, 0.04) !important;
  z-index: 1 !important;
  position: relative !important;
}

:deep(.modern-table .el-table__row:nth-child(even)) {
  background: rgba(248, 250, 252, 0.6) !important;
}

:deep(.modern-table .el-table__row:nth-child(odd)) {
  background: rgba(255, 255, 255, 0.8) !important;
}

:deep(.modern-table .el-table__row td) {
  border: none !important;
  padding: 14px 12px !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.05) !important;
  vertical-align: middle !important;
}

/* üé® ‰ºòÂåñÁöÑÊ†áÁ≠æÂíåÊåâÈíÆËÆæËÆ° */
:deep(.modern-table .el-tag) {
  border-radius: 6px !important;
  font-weight: 500 !important;
  font-size: 12px !important;
  padding: 4px 8px !important;
  border: none !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

:deep(.modern-table .el-switch) {
  transform: scale(0.9) !important;
}

:deep(.modern-table .el-button) {
  border-radius: 6px !important;
  font-size: 12px !important;
  padding: 6px 8px !important;
  margin: 0 2px !important;
  transition: all 0.2s ease !important;
  min-width: 32px !important;
  height: 28px !important;
}

:deep(.modern-table .el-button:hover) {
  transform: translateY(-1px) !important;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12) !important;
}

/* üìä Ê†áÈ¢òÂàó‰ºòÂåñ - ‰øùÊåÅ‰ø°ÊÅØÂØÜÂ∫¶ */
.title-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-height: 40px;
  justify-content: center;
}

.title-text {
  font-weight: 600;
  color: #1f2937;
  line-height: 1.3;
  font-size: 14px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  max-height: 36px;
}

.title-meta {
  font-size: 11px;
  color: #6b7280;
  font-weight: 400;
  margin-top: 2px;
}

.score-text {
  font-weight: 600;
  color: #059669;
  font-size: 13px;
}

/* üéÆ Á¥ßÂáëÁöÑÊìç‰ΩúÊåâÈíÆËÆæËÆ° */
.action-buttons {
  display: flex;
  gap: 4px;
  justify-content: center;
  align-items: center;
  flex-wrap: nowrap;
}

.action-buttons .el-button {
  border-radius: 6px !important;
  transition: all 0.2s ease !important;
  font-size: 11px !important;
  padding: 5px 6px !important;
  min-width: 28px !important;
  height: 26px !important;
}

.action-buttons .el-button .el-icon {
  font-size: 14px !important;
}

.action-buttons .el-button:hover {
  transform: translateY(-1px) scale(1.05) !important;
}

/* üîÑ ÊâπÈáèÊìç‰Ωú‰ºòÂåñ */
.bulk-actions {
  background: rgba(102, 126, 234, 0.03);
  border-radius: 12px;
  padding: 8px 16px;
  backdrop-filter: blur(10px);
}

.bulk-btn {
  font-size: 13px !important;
  padding: 6px 12px !important;
  border-radius: 8px !important;
}

/* üéØ ËßÜÂõæÂàáÊç¢‰ºòÂåñ */
.view-toggle {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 10px;
  padding: 2px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.view-toggle .el-radio-button__inner {
  border: none !important;
  padding: 6px 16px !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  border-radius: 8px !important;
  transition: all 0.2s ease !important;
}

.view-toggle .el-radio-button__original-radio:checked + .el-radio-button__inner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3) !important;
}

/* üì± ÁßªÂä®Á´ØÈÄÇÈÖç */
@media (max-width: 768px) {
  :deep(.modern-table .el-table__row:hover) {
    transform: none !important;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1) !important;
  }
  
  .action-buttons {
    flex-direction: column;
    gap: 2px;
  }
  
  .action-buttons .el-button {
    width: 100% !important;
    min-width: 60px !important;
  }
}



/* ÂØπËØùÊ°ÜÂíåË°®ÂçïÊ†∑Âºè */
.modern-dialog {
  z-index: 3000;
}

/* üéØ Ë°®Ê†ºÈÄâ‰∏≠Áä∂ÊÄÅ‰ºòÂåñ */
:deep(.clean-data-table .el-table__row.selected-row) {
  background: linear-gradient(135deg, #e0f2fe 0%, #e3f2fd 100%) !important;
  border-left: 3px solid #0ea5e9 !important;
}

:deep(.clean-data-table .el-table__row.selected-row:hover) {
  background: linear-gradient(135deg, #bae6fd 0%, #dbeafe 100%) !important;
}

:deep(.clean-data-table .el-table__row.current-row) {
  background: linear-gradient(135deg, #e3f2fd 0%, #e0f2fe 100%) !important;
  border-left: 3px solid #3b82f6 !important;
}

/* üé® Ë°®Ê†ºÈó¥Ë∑ù‰ºòÂåñ */
:deep(.clean-data-table .el-table__header th) {
  padding: 20px 16px !important;
  font-size: 14px !important;
  font-weight: 600 !important;
}

/* üîç ÊêúÁ¥¢Âå∫ÂüüÂûÇÁõ¥ÂØπÈΩê‰ºòÂåñ */
:deep(.search-panel .search-field) {
  align-items: flex-end !important;
  padding-bottom: 4px !important;
}

:deep(.search-panel .search-actions) {
  padding-bottom: 4px !important;
}

/* üö´ ÁßªÈô§ÂØπÊêúÁ¥¢ÊåâÈíÆÁöÑÊ†∑ÂºèÂπ≤Êâ∞ - Ê®°ÂùóÂåñÈöîÁ¶ª */

/* üìã ÈÄâÊã©ÊéßÂà∂Âå∫Âüü */
.selection-control {
  display: flex;
  align-items: center;
  gap: 24px;
  position: relative;
}

.master-checkbox {
  font-weight: 600;
  color: #374151;
  padding: 12px 16px;
  background: rgba(99, 102, 241, 0.05);
  border-radius: 16px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(99, 102, 241, 0.1);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.master-checkbox:hover {
  background: rgba(99, 102, 241, 0.08);
  border-color: rgba(99, 102, 241, 0.2);
  transform: translateY(-1px);
}

.selection-info {
  margin-left: 12px;
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
  font-size: 14px;
}

/* üéØ ÊâπÈáèÊìç‰ΩúÈù¢Êùø */
.batch-operations-panel {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px 20px;
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
  border-radius: 20px;
  border: 1px solid rgba(99, 102, 241, 0.15);
  backdrop-filter: blur(20px);
  animation: slideInScale 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideInScale {
  from { 
    transform: translateX(-20px) scale(0.9); 
    opacity: 0; 
  }
  to { 
    transform: translateX(0) scale(1); 
    opacity: 1; 
  }
}

.batch-counter {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-right: 8px;
}

.counter-badge {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  padding: 6px 12px;
  border-radius: 12px;
  font-weight: 700;
  font-size: 13px;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.counter-text {
  font-weight: 600;
  color: #4b5563;
  font-size: 13px;
}

.batch-actions {
  display: flex;
  gap: 8px;
}

.premium-btn {
  padding: 8px 16px;
  border-radius: 12px;
  font-weight: 600;
  font-size: 13px;
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid transparent;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.premium-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
}

.premium-btn.danger {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  color: white;
  border-color: rgba(239, 68, 68, 0.3);
}

.premium-btn.primary {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  border-color: rgba(99, 102, 241, 0.3);
}

.premium-btn.secondary {
  background: linear-gradient(135deg, #64748b 0%, #475569 100%);
  color: white;
  border-color: rgba(100, 116, 139, 0.3);
}

/* üìä Êï∞ÊçÆÁªüËÆ°Èù¢Êùø */
.stats-panel {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px 20px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.8) 100%);
  border-radius: 20px;
  border: 1px solid rgba(99, 102, 241, 0.12);
  backdrop-filter: blur(20px);
  box-shadow: 0 4px 16px rgba(99, 102, 241, 0.06);
}

.stat-card {
  display: flex;
  align-items: center;
  gap: 12px;
}

.stat-icon {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.stat-icon.total {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
}

.stat-icon.selected {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
}

.stat-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.stat-value {
  font-size: 18px;
  font-weight: 800;
  color: #1f2937;
  line-height: 1;
}

.stat-value.highlight {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stat-label {
  font-size: 12px;
  color: #6b7280;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stat-divider {
  width: 1px;
  height: 32px;
  background: linear-gradient(180deg, transparent 0%, rgba(99, 102, 241, 0.2) 50%, transparent 100%);
}

/* üé® Áé∞‰ª£ÂåñË°®Ê†ºÊ†∑Âºè */
.premium-data-table {
  margin-top: 0;
}

:deep(.premium-data-table .el-table) {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 100%);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  border: 1px solid rgba(99, 102, 241, 0.12);
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(99, 102, 241, 0.08);
}

:deep(.premium-data-table .el-table__header) {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.08) 0%, rgba(139, 92, 246, 0.05) 100%);
}

:deep(.premium-data-table .el-table__header th) {
  background: transparent !important;
  border-bottom: 2px solid rgba(99, 102, 241, 0.1);
  color: #374151;
  font-weight: 700;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 20px 16px;
}

:deep(.premium-data-table .el-table__body tr) {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

:deep(.premium-data-table .el-table__body tr:hover) {
  background: rgba(99, 102, 241, 0.03) !important;
  transform: translateX(4px);
  box-shadow: 4px 0 0 rgba(99, 102, 241, 0.2);
}

:deep(.premium-data-table .el-table__body td) {
  border-bottom: 1px solid rgba(99, 102, 241, 0.06);
  padding: 20px 16px;
}

/* üìù È¢òÁõÆ‰ø°ÊÅØÂçïÂÖÉÊ†º */
.question-info-cell {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.question-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.question-title {
  font-size: 16px;
  font-weight: 700;
  color: #1f2937;
  line-height: 1.4;
  margin: 0;
  background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  flex: 1;
}

.question-badges {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.modern-badge {
  border-radius: 10px;
  font-weight: 600;
  font-size: 11px;
  padding: 4px 10px;
  border: 1px solid transparent;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(10px);
}

.question-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 4px;
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.meta-icon {
  color: #6366f1;
  font-size: 14px;
}

.meta-text {
  font-size: 12px;
  color: #6b7280;
  font-weight: 500;
}

/* ‚≠ê ÂàÜÊï∞ÊòæÁ§∫ */
.score-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.score-circle {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  border-radius: 16px;
  color: white;
  font-weight: 800;
  box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);
}

.score-icon {
  font-size: 14px;
}

.score-value {
  font-size: 16px;
  line-height: 1;
}

.score-unit {
  font-size: 11px;
  color: #6b7280;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* üîÑ Áä∂ÊÄÅÊéßÂà∂ */
.status-control {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.premium-switch {
  transform: scale(1.1);
}

.status-label {
  font-size: 11px;
  font-weight: 600;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* üéÆ Êìç‰ΩúÊåâÈíÆÁªÑ */
.premium-actions {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.action-btn {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid transparent;
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  position: relative;
  overflow: hidden;
}

.action-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.5s;
}

.action-btn:hover::before {
  left: 100%;
}

.action-btn:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.preview-btn {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  border-color: rgba(99, 102, 241, 0.3);
}

.edit-btn {
  background: linear-gradient(135deg, #64748b 0%, #475569 100%);
  border-color: rgba(100, 116, 139, 0.3);
}

.copy-btn {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  border-color: rgba(16, 185, 129, 0.3);
}

.delete-btn {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  border-color: rgba(239, 68, 68, 0.3);
}

/* üé≠ Âä®ÁîªÊïàÊûú */
.slide-fade-enter-active {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.slide-fade-leave-active {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.slide-fade-enter-from,
.slide-fade-leave-to {
  transform: translateX(-20px) scale(0.95);
  opacity: 0;
}

/* üì± ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 1200px) {
  .premium-management-container {
    padding: 24px;
    border-radius: 20px;
  }
  
  .smart-control-bar {
    flex-direction: column;
    gap: 20px;
    align-items: stretch;
  }
  
  .stats-panel {
    justify-content: center;
  }
}

@media (max-width: 768px) {
  .premium-management-container {
    padding: 20px;
    border-radius: 16px;
    margin-top: 16px;
  }
  
  .selection-control {
    flex-direction: column;
    gap: 16px;
    align-items: stretch;
  }
  
  .batch-operations-panel {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }
  
  .batch-actions {
    justify-content: space-around;
  }
  
  .premium-btn {
    flex: 1;
    min-width: 0;
  }
  
  .stats-panel {
    flex-direction: column;
    gap: 12px;
  }
  
  .stat-card {
    justify-content: center;
  }
}

/* ÂØπËØùÊ°ÜÊ†∑Âºè‰øùÊåÅ‰∏çÂèò - Ëøô‰∫õÊòØÈ°µÈù¢ÁâπÂÆöÁöÑ */
.modern-dialog {
  z-index: var(--z-modal) !important;
  isolation: isolate;
}

.modern-dialog :deep(.el-dialog) {
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-2xl);
  margin-top: 5vh !important;
  margin-bottom: 5vh !important;
  max-height: 90vh;
  overflow: hidden;
  z-index: var(--z-modal) !important;
}

.dialog-content {
  padding: var(--spacing-2xl);
  background: var(--color-gray-50);
  min-height: 500px;
}

.form-section {
  margin-bottom: var(--spacing-lg);
  background: var(--color-white);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  box-shadow: var(--shadow-card);
  transition: var(--transition-normal);
  overflow: hidden;
  position: relative;
  z-index: 1;
}

.form-section:hover {
  box-shadow: var(--shadow-lg);
  border-color: rgba(102, 126, 234, 0.2);
  transform: translateY(-2px);
}

.form-section:last-child {
  margin-bottom: 0;
}

.section-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  color: var(--color-white);
  margin: 0;
  padding: var(--spacing-lg) var(--spacing-2xl);
  background: var(--gradient-primary);
  border-bottom: none;
  position: relative;
}

.section-title .el-icon {
  color: var(--color-white);
  font-size: var(--text-lg);
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
}

.section-content {
  background: var(--color-white);
  padding: var(--spacing-2xl);
  border-radius: 0;
}

.dialog-content .form-row {
  display: flex;
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-lg);
  align-items: flex-start;
}

.dialog-content .form-row:last-child {
  margin-bottom: 0;
}

.form-col {
  flex: 1;
  min-width: 0;
}

/* Ë°®ÂçïÈ°πÊ†∑ÂºèÁ≤æÁªÜË∞ÉÊï¥ */
:deep(.el-form-item) {
  margin-bottom: var(--spacing-lg);
}

:deep(.el-form-item:last-child) {
  margin-bottom: 0;
}

:deep(.el-form-item__label) {
  font-weight: var(--font-medium);
  color: var(--color-gray-700);
  font-size: var(--text-sm);
  padding-bottom: var(--spacing-sm);
  line-height: var(--line-height-normal);
  margin-bottom: var(--spacing-sm);
  min-height: 20px;
  display: flex;
  align-items: center;
}

/* ‰øÆÂ§çform-rowÂÜÖË°®ÂçïÈ°πÂØπÈΩêÈóÆÈ¢ò */
:deep(.form-row .el-form-item) {
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  margin-bottom: 0;
}

:deep(.form-row .el-form-item__content) {
  flex: 1;
  display: flex;
  align-items: flex-end;
}

:deep(.form-row .el-form-item__label) {
  margin-bottom: var(--spacing-sm);
  flex-shrink: 0;
}

/* Progress Steps */
.progress-steps {
  display: flex;
  justify-content: center;
  margin-bottom: var(--spacing-2xl);
  background: var(--color-white);
  padding: var(--spacing-xl);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
}

.step-item {
  display: flex;
  align-items: center;
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  transition: var(--transition-normal);
}

.step-item:not(:last-child)::after {
  content: '';
  width: 40px;
  height: 2px;
  background: var(--color-gray-200);
  margin: 0 var(--spacing-lg);
  transition: var(--transition-normal);
}

.step-item.completed {
  color: var(--color-success);
}

.step-item.completed::after {
  background: var(--color-success);
}

.step-item.active {
  color: var(--color-primary);
  font-weight: var(--font-semibold);
}

.step-number {
  width: 24px;
  height: 24px;
  border-radius: var(--radius-full);
  background: var(--color-gray-200);
  color: var(--color-gray-600);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  margin-right: var(--spacing-sm);
  transition: var(--transition-normal);
}

.step-item.completed .step-number {
  background: var(--color-success);
  color: var(--color-white);
}

.step-item.active .step-number {
  background: var(--color-primary);
  color: var(--color-white);
}

/* ÈÄâÈ°πÁºñËæëÂô®Ê†∑Âºè */
.option-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-md);
  padding: var(--spacing-md);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  transition: var(--transition-normal);
}

.option-item:hover {
  background: var(--color-gray-100);
}

.option-prefix {
  width: 32px;
  height: 32px;
  background: var(--gradient-primary);
  color: var(--color-white);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
  flex-shrink: 0;
}

.option-input {
  flex: 1;
}

.option-actions {
  display: flex;
  gap: var(--spacing-sm);
}

/* Á≠îÊ°àÈÄâÊã©Âå∫Âüü */
.answer-selection {
  background: var(--color-white);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin-top: var(--spacing-lg);
}

.answer-options {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
}

.answer-option {
  padding: var(--spacing-sm) var(--spacing-lg);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: var(--transition-normal);
  font-weight: var(--font-medium);
}

.answer-option:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

.answer-option.selected {
  border-color: var(--color-success);
  background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
  color: var(--color-success);
}

/* Smart suggestions */
.smart-suggestion {
  margin: var(--spacing-lg) 0;
  padding: var(--spacing-md) var(--spacing-lg);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--color-primary);
  background: var(--color-primary-50);
}

.suggestion-toggle {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-lg);
  padding: var(--spacing-md);
  border: 2px dashed var(--color-gray-300);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: var(--transition-normal);
  background: var(--color-white);
}

.suggestion-toggle:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

/* È¢ÑËßàÂØπËØùÊ°ÜÊ†∑Âºè */
.preview-content {
  padding: var(--spacing-2xl);
  background: var(--color-white);
  max-height: 70vh;
  overflow-y: auto;
}

.preview-header {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
  padding-bottom: var(--spacing-xl);
  border-bottom: 2px solid var(--color-gray-100);
}

.preview-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: var(--color-gray-800);
  margin-bottom: var(--spacing-md);
}

.preview-meta {
  display: flex;
  justify-content: center;
  gap: var(--spacing-lg);
  flex-wrap: wrap;
}

.meta-item {
  background: var(--color-gray-100);
  padding: var(--spacing-sm) var(--spacing-lg);
  border-radius: var(--radius-2xl);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.preview-section {
  margin-bottom: var(--spacing-2xl);
}

.section-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-gray-700);
  margin-bottom: var(--spacing-lg);
}

.question-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
  padding: var(--spacing-lg);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--color-primary);
}

.options-display {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.option-display {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
  padding: var(--spacing-lg);
  background: var(--color-white);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: var(--transition-normal);
}

.option-display:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.option-display.correct-option {
  border-color: var(--color-success);
  background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
}

.option-label {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-full);
  background: var(--color-gray-200);
  color: var(--color-gray-600);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
}

.correct-option .option-label {
  background: var(--gradient-success);
  color: var(--color-white);
}

.option-text {
  flex: 1;
  font-size: var(--text-sm);
  color: var(--color-gray-700);
}

.option-status {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.answer-display {
  padding: var(--spacing-lg);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  border: 2px solid var(--color-gray-200);
}

.answer-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
}

.explanation-section {
  background: var(--color-gray-50);
  padding: var(--spacing-xl);
  border-radius: var(--radius-lg);
  border: 2px solid var(--color-gray-200);
}

.explanation-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-gray-700);
  margin-bottom: var(--spacing-lg);
}

.explanation-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
}

/* ÂØºÂÖ•ÂØπËØùÊ°Ü */
.import-dialog {
  z-index: var(--z-modal);
}

.import-content {
  padding: var(--spacing-xl);
}

.import-tips {
  margin-bottom: var(--spacing-xl);
}

.upload-area {
  border: 2px dashed var(--color-gray-300);
  border-radius: var(--radius-lg);
  padding: var(--spacing-4xl);
  text-align: center;
  cursor: pointer;
  transition: var(--transition-normal);
}

.upload-area:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

.upload-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-md);
}

.upload-text {
  font-size: var(--text-lg);
  font-weight: var(--font-medium);
  color: var(--color-gray-700);
}

.upload-hint {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.dialog-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-lg) var(--spacing-2xl);
  border-top: 1px solid var(--color-gray-200);
}

.template-btn {
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  color: var(--color-gray-600);
}

.template-btn:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 768px) {
  .dialog-content .form-row {
    flex-direction: column;
    gap: var(--spacing-lg);
  }
  
  .preview-meta {
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .option-display {
    flex-direction: column;
    text-align: center;
    gap: var(--spacing-md);
  }
  
  .progress-steps {
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .step-item:not(:last-child)::after {
    display: none;
  }
}

/* ÊêúÁ¥¢Â≠óÊÆµÂûÇÁõ¥Â±Ö‰∏≠Ê†∑Âºè - Âº∫Âà∂Ë¶ÜÁõñ */
.search-field {
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  align-items: stretch !important;
  height: 68px !important;
  min-height: 68px !important;
  max-height: 68px !important;
  padding: 8px 0 !important;
  box-sizing: border-box !important;
}

.search-field label {
  font-size: 14px !important;
  font-weight: 500 !important;
  color: #6b7280 !important;
  line-height: 1.2 !important;
  margin: 0 0 6px 0 !important;
  padding: 0 !important;
  display: block !important;
  width: 100% !important;
  text-align: left !important;
  flex-shrink: 0 !important;
}

.search-field .el-input,
.search-field .el-select {
  height: 40px !important;
  width: 100% !important;
  flex: 1 !important;
  min-height: 40px !important;
}

.search-field .el-input__wrapper,
.search-field .el-select__wrapper {
  height: 40px !important;
  display: flex !important;
  align-items: center !important;
}

/* üéØ ‰∏ì‰∏öÁÆ°ÁêÜÁ≥ªÁªüË°®Ê†ºËÆæËÆ° - Âπ≥Ë°°ÁæéËßÇ‰∏éÊïàÁéá */
:deep(.modern-table .el-table__header) {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.03) 0%, rgba(118, 75, 162, 0.03) 100%) !important;
  backdrop-filter: blur(10px) !important;
  border-bottom: 2px solid rgba(102, 126, 234, 0.08) !important;
}

:deep(.modern-table .el-table__header th) {
  background: transparent !important;
  border: none !important;
  padding: 16px 12px !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  color: #374151 !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.08) !important;
  white-space: nowrap !important;
}

:deep(.modern-table .el-table__row) {
  transition: all 0.2s ease !important;
  background: rgba(255, 255, 255, 0.8) !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.05) !important;
}

:deep(.modern-table .el-table__row:hover) {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.04) 0%, rgba(118, 75, 162, 0.04) 100%) !important;
  transform: translateX(2px) !important;
  box-shadow: 
    4px 0 12px rgba(102, 126, 234, 0.08),
    0 2px 8px rgba(0, 0, 0, 0.04) !important;
  z-index: 1 !important;
  position: relative !important;
}

:deep(.modern-table .el-table__row:nth-child(even)) {
  background: rgba(248, 250, 252, 0.6) !important;
}

:deep(.modern-table .el-table__row:nth-child(odd)) {
  background: rgba(255, 255, 255, 0.8) !important;
}

:deep(.modern-table .el-table__row td) {
  border: none !important;
  padding: 14px 12px !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.05) !important;
  vertical-align: middle !important;
}

/* üé® ‰ºòÂåñÁöÑÊ†áÁ≠æÂíåÊåâÈíÆËÆæËÆ° */
:deep(.modern-table .el-tag) {
  border-radius: 6px !important;
  font-weight: 500 !important;
  font-size: 12px !important;
  padding: 4px 8px !important;
  border: none !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

:deep(.modern-table .el-switch) {
  transform: scale(0.9) !important;
}

:deep(.modern-table .el-button) {
  border-radius: 6px !important;
  font-size: 12px !important;
  padding: 6px 8px !important;
  margin: 0 2px !important;
  transition: all 0.2s ease !important;
  min-width: 32px !important;
  height: 28px !important;
}

:deep(.modern-table .el-button:hover) {
  transform: translateY(-1px) !important;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12) !important;
}

/* üìä Ê†áÈ¢òÂàó‰ºòÂåñ - ‰øùÊåÅ‰ø°ÊÅØÂØÜÂ∫¶ */
.title-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-height: 40px;
  justify-content: center;
}

.title-text {
  font-weight: 600;
  color: #1f2937;
  line-height: 1.3;
  font-size: 14px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  max-height: 36px;
}

.title-meta {
  font-size: 11px;
  color: #6b7280;
  font-weight: 400;
  margin-top: 2px;
}

.score-text {
  font-weight: 600;
  color: #059669;
  font-size: 13px;
}

/* üéÆ Á¥ßÂáëÁöÑÊìç‰ΩúÊåâÈíÆËÆæËÆ° */
.action-buttons {
  display: flex;
  gap: 4px;
  justify-content: center;
  align-items: center;
  flex-wrap: nowrap;
}

.action-buttons .el-button {
  border-radius: 6px !important;
  transition: all 0.2s ease !important;
  font-size: 11px !important;
  padding: 5px 6px !important;
  min-width: 28px !important;
  height: 26px !important;
}

.action-buttons .el-button .el-icon {
  font-size: 14px !important;
}

.action-buttons .el-button:hover {
  transform: translateY(-1px) scale(1.05) !important;
}

/* üîÑ ÊâπÈáèÊìç‰Ωú‰ºòÂåñ */
.bulk-actions {
  background: rgba(102, 126, 234, 0.03);
  border-radius: 12px;
  padding: 8px 16px;
  backdrop-filter: blur(10px);
}

.bulk-btn {
  font-size: 13px !important;
  padding: 6px 12px !important;
  border-radius: 8px !important;
}

/* üéØ ËßÜÂõæÂàáÊç¢‰ºòÂåñ */
.view-toggle {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 10px;
  padding: 2px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.view-toggle .el-radio-button__inner {
  border: none !important;
  padding: 6px 16px !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  border-radius: 8px !important;
  transition: all 0.2s ease !important;
}

.view-toggle .el-radio-button__original-radio:checked + .el-radio-button__inner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3) !important;
}

/* üì± ÁßªÂä®Á´ØÈÄÇÈÖç */
@media (max-width: 768px) {
  :deep(.modern-table .el-table__row:hover) {
    transform: none !important;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1) !important;
  }
  
  .action-buttons {
    flex-direction: column;
    gap: 2px;
  }
  
  .action-buttons .el-button {
    width: 100% !important;
    min-width: 60px !important;
  }
}



/* ÂØπËØùÊ°ÜÂíåË°®ÂçïÊ†∑Âºè */
.modern-dialog {
  z-index: 3000;
}

/* üéØ Ë°®Ê†ºÈÄâ‰∏≠Áä∂ÊÄÅ‰ºòÂåñ */
:deep(.clean-data-table .el-table__row.selected-row) {
  background: linear-gradient(135deg, #e0f2fe 0%, #e3f2fd 100%) !important;
  border-left: 3px solid #0ea5e9 !important;
}

:deep(.clean-data-table .el-table__row.selected-row:hover) {
  background: linear-gradient(135deg, #bae6fd 0%, #dbeafe 100%) !important;
}

:deep(.clean-data-table .el-table__row.current-row) {
  background: linear-gradient(135deg, #e3f2fd 0%, #e0f2fe 100%) !important;
  border-left: 3px solid #3b82f6 !important;
}

/* üé® Ë°®Ê†ºÈó¥Ë∑ù‰ºòÂåñ */
:deep(.clean-data-table .el-table__header th) {
  padding: 20px 16px !important;
  font-size: 14px !important;
  font-weight: 600 !important;
}

/* üîç ÊêúÁ¥¢Âå∫ÂüüÂûÇÁõ¥ÂØπÈΩê‰ºòÂåñ */
:deep(.search-panel .search-field) {
  align-items: flex-end !important;
  padding-bottom: 4px !important;
}

:deep(.search-panel .search-actions) {
  padding-bottom: 4px !important;
}

/* üö´ ÁßªÈô§ÂØπÊêúÁ¥¢ÊåâÈíÆÁöÑÊ†∑ÂºèÂπ≤Êâ∞ - Ê®°ÂùóÂåñÈöîÁ¶ª */

/* üìã ÈÄâÊã©ÊéßÂà∂Âå∫Âüü */
.selection-control {
  display: flex;
  align-items: center;
  gap: 24px;
  position: relative;
}

.master-checkbox {
  font-weight: 600;
  color: #374151;
  padding: 12px 16px;
  background: rgba(99, 102, 241, 0.05);
  border-radius: 16px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(99, 102, 241, 0.1);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.master-checkbox:hover {
  background: rgba(99, 102, 241, 0.08);
  border-color: rgba(99, 102, 241, 0.2);
  transform: translateY(-1px);
}

.selection-info {
  margin-left: 12px;
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
  font-size: 14px;
}

/* üéØ ÊâπÈáèÊìç‰ΩúÈù¢Êùø */
.batch-operations-panel {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px 20px;
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
  border-radius: 20px;
  border: 1px solid rgba(99, 102, 241, 0.15);
  backdrop-filter: blur(20px);
  animation: slideInScale 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideInScale {
  from { 
    transform: translateX(-20px) scale(0.9); 
    opacity: 0; 
  }
  to { 
    transform: translateX(0) scale(1); 
    opacity: 1; 
  }
}

.batch-counter {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-right: 8px;
}

.counter-badge {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  padding: 6px 12px;
  border-radius: 12px;
  font-weight: 700;
  font-size: 13px;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.counter-text {
  font-weight: 600;
  color: #4b5563;
  font-size: 13px;
}

.batch-actions {
  display: flex;
  gap: 8px;
}

.premium-btn {
  padding: 8px 16px;
  border-radius: 12px;
  font-weight: 600;
  font-size: 13px;
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: 1px solid transparent;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.premium-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
}

.premium-btn.danger {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  color: white;
  border-color: rgba(239, 68, 68, 0.3);
}

.premium-btn.primary {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  border-color: rgba(99, 102, 241, 0.3);
}

.premium-btn.secondary {
  background: linear-gradient(135deg, #64748b 0%, #475569 100%);
  color: white;
  border-color: rgba(100, 116, 139, 0.3);
}

/* üìä Êï∞ÊçÆÁªüËÆ°Èù¢Êùø */
.stats-panel {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px 20px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.8) 100%);
  border-radius: 20px;
  border: 1px solid rgba(99, 102, 241, 0.12);
  backdrop-filter: blur(20px);
  box-shadow: 0 4px 16px rgba(99, 102, 241, 0.06);
}

.stat-card {
  display: flex;
  align-items: center;
  gap: 12px;
}

.stat-icon {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.stat-icon.total {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
}

.stat-icon.selected {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
}

.stat-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.stat-value {
  font-size: 18px;
  font-weight: 800;
  color: #1f2937;
  line-height: 1;
}

.stat-value.highlight {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stat-label {
  font-size: 12px;
  color: #6b7280;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stat-divider {
  width: 1px;
  height: 32px;
  background: linear-gradient(180deg, transparent 0%, rgba(99, 102, 241, 0.2) 50%, transparent 100%);
}

/* üé® Áé∞‰ª£ÂåñË°®Ê†ºÊ†∑Âºè */
.premium-data-table {
  margin-top: 0;
}

:deep(.premium-data-table .el-table) {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 100%);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  border: 1px solid rgba(99, 102, 241, 0.12);
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(99, 102, 241, 0.08);
}

:deep(.premium-data-table .el-table__header) {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.08) 0%, rgba(139, 92, 246, 0.05) 100%);
}

:deep(.premium-data-table .el-table__header th) {
  background: transparent !important;
  border-bottom: 2px solid rgba(99, 102, 241, 0.1);
  color: #374151;
  font-weight: 700;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 20px 16px;
}

:deep(.premium-data-table .el-table__body tr) {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

:deep(.premium-data-table .el-table__body tr:hover) {
  background: rgba(99, 102, 241, 0.03) !important;
  transform: translateX(4px);
  box-shadow: 4px 0 0 rgba(99, 102, 241, 0.2);
}

:deep(.premium-data-table .el-table__body td) {
  border-bottom: 1px solid rgba(99, 102, 241, 0.06);
  padding: 20px 16px;
}

/* üìù È¢òÁõÆ‰ø°ÊÅØÂçïÂÖÉÊ†º */
.question-info-cell {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.question-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.question-title {
  font-size: 16px;
  font-weight: 700;
  color: #1f2937;
  line-height: 1.4;
  margin: 0;
  background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  flex: 1;
}

.question-badges {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.modern-badge {
  border-radius: 10px;
  font-weight: 600;
  font-size: 11px;
  padding: 4px 10px;
  border: 1px solid transparent;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(10px);
}

.question-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 4px;
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.meta-icon {
  color: #6366f1;
  font-size: 14px;
}

.meta-text {
  font-size: 12px;
  color: #6b7280;
  font-weight: 500;
}

/* ‚≠ê ÂàÜÊï∞ÊòæÁ§∫ */
.score-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.score-circle {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  border-radius: 16px;
  color: white;
  font-weight: 800;
  box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);
}

.score-icon {
  font-size: 14px;
}

.score-value {
  font-size: 16px;
  line-height: 1;
}

.score-unit {
  font-size: 11px;
  color: #6b7280;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* üîÑ Áä∂ÊÄÅÊéßÂà∂ */
.status-control {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.premium-switch {
  transform: scale(1.1);
}

.status-label {
  font-size: 11px;
  font-weight: 600;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* üéÆ Êìç‰ΩúÊåâÈíÆÁªÑ */
.premium-actions {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.action-btn {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid transparent;
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  position: relative;
  overflow: hidden;
}

.action-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.5s;
}

.action-btn:hover::before {
  left: 100%;
}

.action-btn:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.preview-btn {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  border-color: rgba(99, 102, 241, 0.3);
}

.edit-btn {
  background: linear-gradient(135deg, #64748b 0%, #475569 100%);
  border-color: rgba(100, 116, 139, 0.3);
}

.copy-btn {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  border-color: rgba(16, 185, 129, 0.3);
}

.delete-btn {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  border-color: rgba(239, 68, 68, 0.3);
}

/* üé≠ Âä®ÁîªÊïàÊûú */
.slide-fade-enter-active {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.slide-fade-leave-active {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.slide-fade-enter-from,
.slide-fade-leave-to {
  transform: translateX(-20px) scale(0.95);
  opacity: 0;
}

/* üì± ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 1200px) {
  .premium-management-container {
    padding: 24px;
    border-radius: 20px;
  }
  
  .smart-control-bar {
    flex-direction: column;
    gap: 20px;
    align-items: stretch;
  }
  
  .stats-panel {
    justify-content: center;
  }
}

@media (max-width: 768px) {
  .premium-management-container {
    padding: 20px;
    border-radius: 16px;
    margin-top: 16px;
  }
  
  .selection-control {
    flex-direction: column;
    gap: 16px;
    align-items: stretch;
  }
  
  .batch-operations-panel {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }
  
  .batch-actions {
    justify-content: space-around;
  }
  
  .premium-btn {
    flex: 1;
    min-width: 0;
  }
  
  .stats-panel {
    flex-direction: column;
    gap: 12px;
  }
  
  .stat-card {
    justify-content: center;
  }
}

/* ÂØπËØùÊ°ÜÊ†∑Âºè‰øùÊåÅ‰∏çÂèò - Ëøô‰∫õÊòØÈ°µÈù¢ÁâπÂÆöÁöÑ */
.modern-dialog {
  z-index: var(--z-modal) !important;
  isolation: isolate;
}

.modern-dialog :deep(.el-dialog) {
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-2xl);
  margin-top: 5vh !important;
  margin-bottom: 5vh !important;
  max-height: 90vh;
  overflow: hidden;
  z-index: var(--z-modal) !important;
}

.dialog-content {
  padding: var(--spacing-2xl);
  background: var(--color-gray-50);
  min-height: 500px;
}

.form-section {
  margin-bottom: var(--spacing-lg);
  background: var(--color-white);
  border-radius: var(--radius-xl);
  border: 1px solid var(--color-gray-200);
  box-shadow: var(--shadow-card);
  transition: var(--transition-normal);
  overflow: hidden;
  position: relative;
  z-index: 1;
}

.form-section:hover {
  box-shadow: var(--shadow-lg);
  border-color: rgba(102, 126, 234, 0.2);
  transform: translateY(-2px);
}

.form-section:last-child {
  margin-bottom: 0;
}

.section-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  color: var(--color-white);
  margin: 0;
  padding: var(--spacing-lg) var(--spacing-2xl);
  background: var(--gradient-primary);
  border-bottom: none;
  position: relative;
}

.section-title .el-icon {
  color: var(--color-white);
  font-size: var(--text-lg);
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
}

.section-content {
  background: var(--color-white);
  padding: var(--spacing-2xl);
  border-radius: 0;
}

.dialog-content .form-row {
  display: flex;
  gap: var(--spacing-xl);
  margin-bottom: var(--spacing-lg);
  align-items: flex-start;
}

.dialog-content .form-row:last-child {
  margin-bottom: 0;
}

.form-col {
  flex: 1;
  min-width: 0;
}

/* Ë°®ÂçïÈ°πÊ†∑ÂºèÁ≤æÁªÜË∞ÉÊï¥ */
:deep(.el-form-item) {
  margin-bottom: var(--spacing-lg);
}

:deep(.el-form-item:last-child) {
  margin-bottom: 0;
}

:deep(.el-form-item__label) {
  font-weight: var(--font-medium);
  color: var(--color-gray-700);
  font-size: var(--text-sm);
  padding-bottom: var(--spacing-sm);
  line-height: var(--line-height-normal);
  margin-bottom: var(--spacing-sm);
  min-height: 20px;
  display: flex;
  align-items: center;
}

/* ‰øÆÂ§çform-rowÂÜÖË°®ÂçïÈ°πÂØπÈΩêÈóÆÈ¢ò */
:deep(.form-row .el-form-item) {
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  margin-bottom: 0;
}

:deep(.form-row .el-form-item__content) {
  flex: 1;
  display: flex;
  align-items: flex-end;
}

:deep(.form-row .el-form-item__label) {
  margin-bottom: var(--spacing-sm);
  flex-shrink: 0;
}

/* Progress Steps */
.progress-steps {
  display: flex;
  justify-content: center;
  margin-bottom: var(--spacing-2xl);
  background: var(--color-white);
  padding: var(--spacing-xl);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-sm);
}

.step-item {
  display: flex;
  align-items: center;
  font-size: var(--text-sm);
  color: var(--color-gray-500);
  transition: var(--transition-normal);
}

.step-item:not(:last-child)::after {
  content: '';
  width: 40px;
  height: 2px;
  background: var(--color-gray-200);
  margin: 0 var(--spacing-lg);
  transition: var(--transition-normal);
}

.step-item.completed {
  color: var(--color-success);
}

.step-item.completed::after {
  background: var(--color-success);
}

.step-item.active {
  color: var(--color-primary);
  font-weight: var(--font-semibold);
}

.step-number {
  width: 24px;
  height: 24px;
  border-radius: var(--radius-full);
  background: var(--color-gray-200);
  color: var(--color-gray-600);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  margin-right: var(--spacing-sm);
  transition: var(--transition-normal);
}

.step-item.completed .step-number {
  background: var(--color-success);
  color: var(--color-white);
}

.step-item.active .step-number {
  background: var(--color-primary);
  color: var(--color-white);
}

/* ÈÄâÈ°πÁºñËæëÂô®Ê†∑Âºè */
.option-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  margin-bottom: var(--spacing-md);
  padding: var(--spacing-md);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  transition: var(--transition-normal);
}

.option-item:hover {
  background: var(--color-gray-100);
}

.option-prefix {
  width: 32px;
  height: 32px;
  background: var(--gradient-primary);
  color: var(--color-white);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
  flex-shrink: 0;
}

.option-input {
  flex: 1;
}

.option-actions {
  display: flex;
  gap: var(--spacing-sm);
}

/* Á≠îÊ°àÈÄâÊã©Âå∫Âüü */
.answer-selection {
  background: var(--color-white);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin-top: var(--spacing-lg);
}

.answer-options {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
}

.answer-option {
  padding: var(--spacing-sm) var(--spacing-lg);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: var(--transition-normal);
  font-weight: var(--font-medium);
}

.answer-option:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

.answer-option.selected {
  border-color: var(--color-success);
  background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
  color: var(--color-success);
}

/* Smart suggestions */
.smart-suggestion {
  margin: var(--spacing-lg) 0;
  padding: var(--spacing-md) var(--spacing-lg);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--color-primary);
  background: var(--color-primary-50);
}

.suggestion-toggle {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-lg);
  padding: var(--spacing-md);
  border: 2px dashed var(--color-gray-300);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: var(--transition-normal);
  background: var(--color-white);
}

.suggestion-toggle:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

/* È¢ÑËßàÂØπËØùÊ°ÜÊ†∑Âºè */
.preview-content {
  padding: var(--spacing-2xl);
  background: var(--color-white);
  max-height: 70vh;
  overflow-y: auto;
}

.preview-header {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
  padding-bottom: var(--spacing-xl);
  border-bottom: 2px solid var(--color-gray-100);
}

.preview-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: var(--color-gray-800);
  margin-bottom: var(--spacing-md);
}

.preview-meta {
  display: flex;
  justify-content: center;
  gap: var(--spacing-lg);
  flex-wrap: wrap;
}

.meta-item {
  background: var(--color-gray-100);
  padding: var(--spacing-sm) var(--spacing-lg);
  border-radius: var(--radius-2xl);
  font-size: var(--text-sm);
  color: var(--color-gray-600);
}

.preview-section {
  margin-bottom: var(--spacing-2xl);
}

.section-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-gray-700);
  margin-bottom: var(--spacing-lg);
}

.question-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
  padding: var(--spacing-lg);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--color-primary);
}

.options-display {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

.option-display {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
  padding: var(--spacing-lg);
  background: var(--color-white);
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  transition: var(--transition-normal);
}

.option-display:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.option-display.correct-option {
  border-color: var(--color-success);
  background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
}

.option-label {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-full);
  background: var(--color-gray-200);
  color: var(--color-gray-600);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-semibold);
  font-size: var(--text-sm);
}

.correct-option .option-label {
  background: var(--gradient-success);
  color: var(--color-white);
}

.option-text {
  flex: 1;
  font-size: var(--text-sm);
  color: var(--color-gray-700);
}

.option-status {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.answer-display {
  padding: var(--spacing-lg);
  background: var(--color-gray-50);
  border-radius: var(--radius-lg);
  border: 2px solid var(--color-gray-200);
}

.answer-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
}

.explanation-section {
  background: var(--color-gray-50);
  padding: var(--spacing-xl);
  border-radius: var(--radius-lg);
  border: 2px solid var(--color-gray-200);
}

.explanation-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  color: var(--color-gray-700);
  margin-bottom: var(--spacing-lg);
}

.explanation-content {
  font-size: var(--text-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-gray-700);
}

/* ÂØºÂÖ•ÂØπËØùÊ°Ü */
.import-dialog {
  z-index: var(--z-modal);
}

.import-content {
  padding: var(--spacing-xl);
}

.import-tips {
  margin-bottom: var(--spacing-xl);
}

.upload-area {
  border: 2px dashed var(--color-gray-300);
  border-radius: var(--radius-lg);
  padding: var(--spacing-4xl);
  text-align: center;
  cursor: pointer;
  transition: var(--transition-normal);
}

.upload-area:hover {
  border-color: var(--color-primary);
  background: var(--color-primary-50);
}

.upload-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-md);
}

.upload-text {
  font-size: var(--text-lg);
  font-weight: var(--font-medium);
  color: var(--color-gray-700);
}

.upload-hint {
  font-size: var(--text-sm);
  color: var(--color-gray-500);
}

.dialog-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-lg) var(--spacing-2xl);
  border-top: 1px solid var(--color-gray-200);
}

.template-btn {
  background: var(--color-white);
  border: 1px solid var(--color-gray-300);
  color: var(--color-gray-600);
}

.template-btn:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 768px) {
  .dialog-content .form-row {
    flex-direction: column;
    gap: var(--spacing-lg);
  }
  
  .preview-meta {
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .option-display {
    flex-direction: column;
    text-align: center;
    gap: var(--spacing-md);
  }
  
  .progress-steps {
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .step-item:not(:last-child)::after {
    display: none;
  }
}

/* ÊêúÁ¥¢Â≠óÊÆµÂûÇÁõ¥Â±Ö‰∏≠Ê†∑Âºè - Âº∫Âà∂Ë¶ÜÁõñ */
.search-field {
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  align-items: stretch !important;
  height: 68px !important;
  min-height: 68px !important;
  max-height: 68px !important;
  padding: 8px 0 !important;
  box-sizing: border-box !important;
}

.search-field label {
  font-size: 14px !important;
  font-weight: 500 !important;
  color: #6b7280 !important;
  line-height: 1.2 !important;
  margin: 0 0 6px 0 !important;
  padding: 0 !important;
  display: block !important;
  width: 100% !important;
  text-align: left !important;
  flex-shrink: 0 !important;
}

.search-field .el-input,
.search-field .el-select {
  height: 40px !important;
  width: 100% !important;
  flex: 1 !important;
  min-height: 40px !important;
}

.search-field .el-input__wrapper,
.search-field .el-select__wrapper {
  height: 40px !important;
  display: flex !important;
  align-items: center !important;
}

/* üéØ ‰∏ì‰∏öÁÆ°ÁêÜÁ≥ªÁªüË°®Ê†ºËÆæËÆ° - Âπ≥Ë°°ÁæéËßÇ‰∏éÊïàÁéá */
:deep(.modern-table .el-table__header) {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.03) 0%, rgba(118, 75, 162, 0.03) 100%) !important;
  backdrop-filter: blur(10px) !important;
  border-bottom: 2px solid rgba(102, 126, 234, 0.08) !important;
}

:deep(.modern-table .el-table__header th) {
  background: transparent !important;
  border: none !important;
  padding: 16px 12px !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  color: #374151 !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.08) !important;
  white-space: nowrap !important;
}

:deep(.modern-table .el-table__row) {
  transition: all 0.2s ease !important;
  background: rgba(255, 255, 255, 0.8) !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.05) !important;
}

:deep(.modern-table .el-table__row:hover) {
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.04) 0%, rgba(118, 75, 162, 0.04) 100%) !important;
  transform: translateX(2px) !important;
  box-shadow: 
    4px 0 12px rgba(102, 126, 234, 0.08),
    0 2px 8px rgba(0, 0, 0, 0.04) !important;
  z-index: 1 !important;
  position: relative !important;
}

:deep(.modern-table .el-table__row:nth-child(even)) {
  background: rgba(248, 250, 252, 0.6) !important;
}

:deep(.modern-table .el-table__row:nth-child(odd)) {
  background: rgba(255, 255, 255, 0.8) !important;
}

:deep(.modern-table .el-table__row td) {
  border: none !important;
  padding: 14px 12px !important;
  border-bottom: 1px solid rgba(102, 126, 234, 0.05) !important;
  vertical-align: middle !important;
}

/* üé® ‰ºòÂåñÁöÑÊ†áÁ≠æÂíåÊåâÈíÆËÆæËÆ° */
:deep(.modern-table .el-tag) {
  border-radius: 6px !important;
  font-weight: 500 !important;
  font-size: 12px !important;
  padding: 4px 8px !important;
  border: none !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

:deep(.modern-table .el-switch) {
  transform: scale(0.9) !important;
}

:deep(.modern-table .el-button) {
  border-radius: 6px !important;
  font-size: 12px !important;
  padding: 6px 8px !important;
  margin: 0 2px !important;
  transition: all 0.2s ease !important;
  min-width: 32px !important;
  height: 28px !important;
}

:deep(.modern-table .el-button:hover) {
  transform: translateY(-1px) !important;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12) !important;
}

/* üìä Ê†áÈ¢òÂàó‰ºòÂåñ - ‰øùÊåÅ‰ø°ÊÅØÂØÜÂ∫¶ */
.title-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-height: 40px;
  justify-content: center;
}

.title-text {
  font-weight: 600;
  color: #1f2937;
  line-height: 1.3;
  font-size: 14px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  max-height: 36px;
}

.title-meta {
  font-size: 11px;
  color: #6b7280;
  font-weight: 400;
  margin-top: 2px;
}

.score-text {
  font-weight: 600;
  color: #059669;
  font-size: 13px;
}

/* üéÆ Á¥ßÂáëÁöÑÊìç‰ΩúÊåâÈíÆËÆæËÆ° */
.action-buttons {
  display: flex;
  gap: 4px;
  justify-content: center;
  align-items: center;
  flex-wrap: nowrap;
}

.action-buttons .el-button {
  border-radius: 6px !important;
  transition: all 0.2s ease !important;
  font-size: 11px !important;
  padding: 5px 6px !important;
  min-width: 28px !important;
  height: 26px !important;
}

.action-buttons .el-button .el-icon {
  font-size: 14px !important;
}

.action-buttons .el-button:hover {
  transform: translateY(-1px) scale(1.05) !important;
}

/* üîÑ ÊâπÈáèÊìç‰Ωú‰ºòÂåñ */
.bulk-actions {
  background: rgba(102, 126, 234, 0.03);
  border-radius: 12px;
  padding: 8px 16px;
  backdrop-filter: blur(10px);
}

.bulk-btn {
  font-size: 13px !important;
  padding: 6px 12px !important;
  border-radius: 8px !important;
}

/* üéØ ËßÜÂõæÂàáÊç¢‰ºòÂåñ */
.view-toggle {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 10px;
  padding: 2px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.view-toggle .el-radio-button__inner {
  border: none !important;
  padding: 6px 16px !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  border-radius: 8px !important;
  transition: all 0.2s ease !important;
}

.view-toggle .el-radio-button__original-radio:checked + .el-radio-button__inner {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3) !important;
}

/* üì± ÁßªÂä®Á´ØÈÄÇÈÖç */
@media (max-width: 768px) {
  :deep(.modern-table .el-table__row:hover) {
    transform: none !important;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1) !important;
  }
  
  .action-buttons {
    flex-direction: column;
    gap: 2px;
  }
  
  .action-buttons .el-button {
    width: 100% !important;
    min-width: 60px !important;
  }
}

/* üé® Áé∞‰ª£ÂåñÂç°ÁâáÂàóË°®ËÆæËÆ° */
.question-cards-container {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.98) 100%);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 24px;
  padding: 32px;
  margin-bottom: 24px;
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.1),
    0 8px 16px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.cards-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 32px;
  padding-bottom: 20px;
  border-bottom: 2px solid rgba(102, 126, 234, 0.1);
}

.bulk-actions {
  display: flex;
  align-items: center;
  gap: 20px;
}

.select-all-checkbox {
  font-weight: 600;
  color: #4a5568;
}

.bulk-operations {
  display: flex;
  gap: 12px;
}

.bulk-btn {
  border-radius: 12px;
  font-weight: 600;
  padding: 8px 16px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(10px);
}

.bulk-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.view-options {
  display: flex;
  align-items: center;
}

.view-toggle {
  background: rgba(255, 255, 255, 0.8);
  border-radius: 12px;
  padding: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* üîÆ Âç°ÁâáÁΩëÊ†ºÂ∏ÉÂ±Ä */
.question-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
  gap: 24px;
  margin-top: 24px;
}

/* ‚ú® Âç°ÁâáËÆæËÆ° */
.question-card {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 100%);
  backdrop-filter: blur(15px);
  border-radius: 20px;
  padding: 24px;
  border: 1px solid rgba(102, 126, 234, 0.1);
  box-shadow: 
    0 8px 24px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

.question-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.question-card:hover::before {
  opacity: 1;
}

.question-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 
    0 20px 40px rgba(102, 126, 234, 0.15),
    0 8px 24px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
  border-color: rgba(102, 126, 234, 0.3);
}

/* üéØ Âç°ÁâáÈÄâÊã©Âô® */
.card-selector {
  position: absolute;
  top: 16px;
  left: 16px;
  z-index: 10;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 8px;
  padding: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
}

/* üìã Âç°ÁâáÂÜÖÂÆπ */
.card-content {
  padding-top: 40px; /* ‰∏∫ÈÄâÊã©Âô®ÁïôÁ©∫Èó¥ */
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 16px;
}

.question-meta {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.type-tag,
.priority-tag {
  border-radius: 8px;
  font-weight: 600;
  font-size: 12px;
  padding: 4px 10px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.card-status {
  display: flex;
  align-items: center;
}

.status-switch {
  transform: scale(0.9);
}

.question-title {
  font-size: 16px;
  font-weight: 700;
  color: #2d3748;
  line-height: 1.5;
  margin-bottom: 16px;
  background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  min-height: 48px; /* ‰øùÊåÅÈ´òÂ∫¶‰∏ÄËá¥ */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.question-details {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding: 12px 16px;
  background: rgba(102, 126, 234, 0.05);
  border-radius: 12px;
  backdrop-filter: blur(10px);
}

.detail-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: #6b7280;
  font-weight: 500;
}

.detail-item .el-icon {
  color: #667eea;
  font-size: 16px;
}

/* üéÆ Âç°ÁâáÊìç‰ΩúÊåâÈíÆ */
.card-actions {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  padding-top: 16px;
  border-top: 1px solid rgba(102, 126, 234, 0.1);
}

.action-btn {
  flex: 1;
  border-radius: 10px;
  font-weight: 600;
  font-size: 12px;
  padding: 8px 12px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(10px);
  min-width: 0; /* ÂÖÅËÆ∏ÊåâÈíÆÊî∂Áº© */
}

.action-btn .el-icon {
  margin-right: 4px;
}

.action-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* üì± ÂìçÂ∫îÂºèËÆæËÆ° */
@media (max-width: 1200px) {
  .question-cards-grid {
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 20px;
  }
}

@media (max-width: 768px) {
  .question-cards-container {
    padding: 20px;
    border-radius: 16px;
  }
  
  .cards-header {
    flex-direction: column;
    gap: 16px;
    align-items: stretch;
  }
  
  .bulk-actions {
    justify-content: space-between;
  }
  
  .question-cards-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  
  .question-card {
    padding: 20px;
  }
  
  .card-actions {
    flex-wrap: wrap;
  }
  
  .action-btn {
    min-width: calc(50% - 4px);
  }
  
  .question-card:hover {
    transform: translateY(-4px) scale(1.01);
  }
}

/* üé® Ë°®Ê†ºËßÜÂõæÁöÑÊ†áÈ¢òÂÜÖÂÆπÊ†∑Âºè */
.title-content {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.title-text {
  font-weight: 600;
  color: #2d3748;
  line-height: 1.4;
}

.title-meta {
  font-size: 12px;
  color: #9ca3af;
  font-weight: 400;
}

.score-text {
  font-weight: 600;
  color: #059669;
}

.action-buttons {
  display: flex;
  gap: 8px;
  justify-content: center;
  flex-wrap: wrap;
}

.action-buttons .el-button {
  border-radius: 8px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.action-buttons .el-button:hover {
  transform: translateY(-1px);
}

/* üéØ Ë°®Ê†ºÂºÄÂÖ≥Ê†∑Âºè */
:deep(.data-table-container .modern-table .el-switch) {
  transform: scale(0.9) !important;
}

/* üéÆ Êìç‰ΩúÊåâÈíÆÁªÑÊÇ¨ÂÅúÊïàÊûú - ÊúÄÈ´ò‰ºòÂÖàÁ∫ß */
:deep(.action-buttons-group) {
  display: flex !important;
  gap: 6px !important;
  justify-content: center !important;
  align-items: center !important;
  flex-wrap: nowrap !important;
  width: 100% !important;
}

:deep(.action-buttons-group .action-button) {
  border-radius: 6px !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  font-size: 11px !important;
  font-weight: 500 !important;
  padding: 4px 8px !important;
  height: 28px !important;
  min-width: 52px !important;
  flex-shrink: 0 !important;
  border-width: 1px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
  white-space: nowrap !important;
}

:deep(.action-buttons-group .action-button .el-icon) {
  font-size: 12px !important;
  margin-right: 2px !important;
}

:deep(.action-buttons-group .action-button:hover) {
  transform: translateY(-1px) !important;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15) !important;
  border-width: 1px !important;
}

/* üé® Áé∞‰ª£Á≤æËá¥ÊåâÈíÆËÆæËÆ° - Áªü‰∏ÄÁÅ∞Ëâ≤Á≥ª + ÂäüËÉΩËâ≤ÁÇπÁºÄ */

/* È¢ÑËßàÊåâÈíÆ - ‰∏≠ÊÄßÁÅ∞ */
:deep(.action-buttons-group .el-button--primary.action-button) {
  background-color: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
  color: #475569 !important;
  font-weight: 500 !important;
}

:deep(.action-buttons-group .el-button--primary.action-button:hover) {
  background-color: #64748b !important;
  border-color: #64748b !important;
  color: white !important;
  box-shadow: 0 2px 4px rgba(100, 116, 139, 0.1) !important;
}

/* ÁºñËæëÊåâÈíÆ - ‰∏≠ÊÄßÁÅ∞ */
:deep(.action-buttons-group .el-button--warning.action-button) {
  background-color: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
  color: #475569 !important;
  font-weight: 500 !important;
}

:deep(.action-buttons-group .el-button--warning.action-button:hover) {
  background-color: #64748b !important;
  border-color: #64748b !important;
  color: white !important;
  box-shadow: 0 2px 4px rgba(100, 116, 139, 0.1) !important;
}

/* Â§çÂà∂ÊåâÈíÆ - ‰∏≠ÊÄßÁÅ∞ */
:deep(.action-buttons-group .el-button--success.action-button) {
  background-color: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
  color: #475569 !important;
  font-weight: 500 !important;
}

:deep(.action-buttons-group .el-button--success.action-button:hover) {
  background-color: #64748b !important;
  border-color: #64748b !important;
  color: white !important;
  box-shadow: 0 2px 4px rgba(100, 116, 139, 0.1) !important;
}

/* Âà†Èô§ÊåâÈíÆ - ÂîØ‰∏ÄÂäüËÉΩËâ≤ */


/* üçé AppleÈ£éÊ†ºÈ´òÁ∫ßËÆæËÆ°Á≥ªÁªü - Á≤æËá¥Â•¢ÂçéÈªòËÆ§Áä∂ÊÄÅ */

/* üîç È¢ÑËßàÊåâÈíÆ - ËìùÂÆùÁü≥Ë¥®ÊÑü */
:deep(.action-buttons-group .el-button--primary.action-button) {
  background: linear-gradient(135deg, #EBF4FF 0%, #DBEAFE 50%, #BFDBFE 100%) !important;
  border: 1.5px solid #007AFF !important;
  color: #1D4ED8 !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  letter-spacing: -0.02em !important;
  text-shadow: 0 1px 2px rgba(0, 122, 255, 0.1) !important;
  transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  box-shadow: 0 2px 8px rgba(0, 122, 255, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.7) !important;
  border-radius: 6px !important;
}

:deep(.action-buttons-group .el-button--primary.action-button:hover) {
  background: linear-gradient(135deg, #007AFF 0%, #0056CC 100%) !important;
  border-color: #0056CC !important;
  color: #ffffff !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  box-shadow: 0 6px 20px rgba(0, 122, 255, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  transform: translateY(-2px) scale(1.02) !important;
}

/* ‚úèÔ∏è ÁºñËæëÊåâÈíÆ - Áê•ÁèÄË¥®ÊÑü */
:deep(.action-buttons-group .el-button--warning.action-button) {
  background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 50%, #F59E0B 100%) !important;
  border: 1.5px solid #FF9500 !important;
  color: #92400E !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  letter-spacing: -0.02em !important;
  text-shadow: 0 1px 2px rgba(255, 149, 0, 0.1) !important;
  transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  box-shadow: 0 2px 8px rgba(255, 149, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.7) !important;
  border-radius: 6px !important;
}

:deep(.action-buttons-group .el-button--warning.action-button:hover) {
  background: linear-gradient(135deg, #FF9500 0%, #E6820A 100%) !important;
  border-color: #E6820A !important;
  color: #ffffff !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  box-shadow: 0 6px 20px rgba(255, 149, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  transform: translateY(-2px) scale(1.02) !important;
}

/* üìã Â§çÂà∂ÊåâÈíÆ - Áø°Áø†Ë¥®ÊÑü */
:deep(.action-buttons-group .el-button--success.action-button) {
  background: linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 50%, #A7F3D0 100%) !important;
  border: 1.5px solid #34C759 !important;
  color: #047857 !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  letter-spacing: -0.02em !important;
  text-shadow: 0 1px 2px rgba(52, 199, 89, 0.1) !important;
  transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  box-shadow: 0 2px 8px rgba(52, 199, 89, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.7) !important;
  border-radius: 6px !important;
}

:deep(.action-buttons-group .el-button--success.action-button:hover) {
  background: linear-gradient(135deg, #34C759 0%, #28A745 100%) !important;
  border-color: #28A745 !important;
  color: #ffffff !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  box-shadow: 0 6px 20px rgba(52, 199, 89, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  transform: translateY(-2px) scale(1.02) !important;
}

/* üóëÔ∏è Âà†Èô§ÊåâÈíÆ - Á£®Á†ÇË¥®ÊÑü */
:deep(.action-buttons-group .el-button--danger.action-button) {
  background: linear-gradient(135deg, #F9FAFB 0%, #F3F4F6 50%, #E5E7EB 100%) !important;
  border: 1.5px solid #8E8E93 !important;
  color: #4B5563 !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  letter-spacing: -0.02em !important;
  text-shadow: 0 1px 2px rgba(142, 142, 147, 0.1) !important;
  transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  box-shadow: 0 2px 8px rgba(142, 142, 147, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.7) !important;
  border-radius: 6px !important;
}

:deep(.action-buttons-group .el-button--danger.action-button:hover) {
  background: linear-gradient(135deg, #8E8E93 0%, #636366 100%) !important;
  border-color: #636366 !important;
  color: #ffffff !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  box-shadow: 0 6px 20px rgba(142, 142, 147, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
  transform: translateY(-2px) scale(1.02) !important;
}

/* üîß ÁºñËæëÂØπËØùÊ°ÜÊ†∑Âºè‰øÆÂ§ç - ÂΩªÂ∫ïÊ∏ÖÁêÜÈáçÂÜô */

/* Âü∫Á°ÄÂØπËØùÊ°ÜÊ†∑ÂºèÈáçÁΩÆ */
.modern-dialog :deep(.el-dialog) {
  border-radius: 16px !important;
  overflow: hidden !important;
}

.dialog-content {
  padding: 24px !important;
  background: #f8fafc !important;
}

/* form-section Áªü‰∏ÄÊ†∑Âºè */
.dialog-content .form-section {
  background: white !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 12px !important;
  margin-bottom: 20px !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  overflow: hidden !important;
}

.dialog-content .form-section:last-child {
  margin-bottom: 0 !important;
}

/* sectionÊ†áÈ¢òÊ†∑Âºè */
.dialog-content .section-title {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  color: white !important;
  padding: 16px 24px !important;
  margin: 0 !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

/* sectionÂÜÖÂÆπÂå∫Âüü */
.dialog-content .section-content {
  padding: 24px !important;
  background: white !important;
}

/* form-row Ë°®ÂçïË°åÊ†∑Âºè - ÈáçÁÇπ‰øÆÂ§ç */
.dialog-content .form-row {
  display: flex !important;
  gap: 20px !important;
  align-items: flex-end !important;
  margin-bottom: 16px !important;
}

.dialog-content .form-row:last-child {
  margin-bottom: 0 !important;
}

.dialog-content .form-col {
  flex: 1 !important;
  min-width: 0 !important;
}

/* Ë°®ÂçïÈ°πÊ†áÁ≠æÂ∫ïÈÉ®ÂØπÈΩê */
.dialog-content .form-row :deep(.el-form-item) {
  margin-bottom: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: flex-end !important;
}

.dialog-content .form-row :deep(.el-form-item__label) {
  margin-bottom: 8px !important;
  line-height: 1.4 !important;
  color: #374151 !important;
  font-size: 13px !important;
  font-weight: 500 !important;
}

.dialog-content .form-row :deep(.el-form-item__content) {
  flex: 1 !important;
}

/* Áªü‰∏ÄËæìÂÖ•Ê°ÜÈ´òÂ∫¶ */
.dialog-content .form-row :deep(.el-input),
.dialog-content .form-row :deep(.el-select) {
  width: 100% !important;
}

.dialog-content .form-row :deep(.el-input__wrapper),
.dialog-content .form-row :deep(.el-select__wrapper) {
  height: 40px !important;
}

/* Êï∞Â≠óËæìÂÖ•Ê°ÜÁâπÊÆäÂ§ÑÁêÜ */
.dialog-content .form-row :deep(.el-input-number) {
  width: 100% !important;
}

.dialog-content .form-row :deep(.el-input-number .el-input__wrapper) {
  height: 40px !important;
}

/* üéØ ÁªàÊûÅ‰øÆÂ§çÊñπÊ°à - ‰ΩøÁî®ÊúÄÂº∫ÈÄâÊã©Âô®ÊùÉÈáçÂº∫Âà∂Ë¶ÜÁõñÊâÄÊúâÂÜ≤Á™Å */

/* ‰ΩøÁî®[data-v-xxx]ÁâπÊÆäÊùÉÈáçÊù•Âº∫Âà∂Ë¶ÜÁõñÊâÄÊúâCSSÂÜ≤Á™Å */
.modern-dialog[class] .dialog-content[class] .form-row[class] {
  display: flex !important;
  gap: 20px !important;
  align-items: flex-end !important;
  margin-bottom: 16px !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

.modern-dialog[class] .dialog-content[class] .form-row[class]:last-child {
  margin-bottom: 0 !important;
}

.modern-dialog[class] .dialog-content[class] .form-col[class] {
  flex: 1 !important;
  min-width: 0 !important;
}

/* ‰ΩøÁî®Ê∑±Â∫¶ÈÄâÊã©Âô®Âº∫Âà∂Ë¶ÜÁõñElement PlusÁöÑÂÜÖÁΩÆÊ†∑Âºè */
.modern-dialog[class] .dialog-content[class] .form-row[class] >>> .el-form-item,
.modern-dialog[class] .dialog-content[class] .form-row[class] :deep(.el-form-item) {
  margin-bottom: 0 !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: flex-end !important;
  width: 100% !important;
}

.modern-dialog[class] .dialog-content[class] .form-row[class] >>> .el-form-item__label,
.modern-dialog[class] .dialog-content[class] .form-row[class] :deep(.el-form-item__label) {
  margin-bottom: 8px !important;
  line-height: 1.4 !important;
  color: #374151 !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  height: auto !important;
  padding: 0 !important;
  width: 100% !important;
  text-align: left !important;
}

.modern-dialog[class] .dialog-content[class] .form-row[class] >>> .el-form-item__content,
.modern-dialog[class] .dialog-content[class] .form-row[class] :deep(.el-form-item__content) {
  flex: 1 !important;
  margin: 0 !important;
  width: 100% !important;
}

/* ËæìÂÖ•Ê°ÜÊ†∑ÂºèÂº∫Âà∂Ë¶ÜÁõñ */
.modern-dialog[class] .dialog-content[class] .form-row[class] >>> .el-input__wrapper,
.modern-dialog[class] .dialog-content[class] .form-row[class] >>> .el-select__wrapper,
.modern-dialog[class] .dialog-content[class] .form-row[class] >>> .el-input-number .el-input__wrapper,
.modern-dialog[class] .dialog-content[class] .form-row[class] :deep(.el-input__wrapper),
.modern-dialog[class] .dialog-content[class] .form-row[class] :deep(.el-select__wrapper),
.modern-dialog[class] .dialog-content[class] .form-row[class] :deep(.el-input-number .el-input__wrapper) {
  height: 40px !important;
  min-height: 40px !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

/* sectionËæπÊ°ÜÂØπÈΩêÂº∫Âà∂Ë¶ÜÁõñ */
.modern-dialog[class] .dialog-content[class] .form-section[class] {
  background: white !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 12px !important;
  margin: 0 0 20px 0 !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  overflow: hidden !important;
  position: static !important;
  transform: none !important;
  transition: none !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

.modern-dialog[class] .dialog-content[class] .form-section[class]:last-child {
  margin-bottom: 0 !important;
}

.modern-dialog[class] .dialog-content[class] .form-section[class]:hover {
  transform: none !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  border-color: #e2e8f0 !important;
}

/* üéØ ÁºñËæëÂØπËØùÊ°ÜÂØπÈΩêÈóÆÈ¢ò‰øÆÂ§ç */

/* ‰øÆÂ§çÈ¢òÁõÆÊ†áÈ¢òÊ†áÁ≠æ‰∏éËæìÂÖ•Ê°ÜÂûÇÁõ¥ÂØπÈΩêÈóÆÈ¢ò */
.modern-dialog[class] .dialog-content[class] .section-content[class] > .el-form-item:not(.form-row .el-form-item) {
  display: flex !important;
  flex-direction: column !important;
  margin-bottom: 16px !important;
}

.modern-dialog[class] .dialog-content[class] .section-content[class] > .el-form-item:not(.form-row .el-form-item) .el-form-item__label {
  margin-bottom: 8px !important;
  line-height: 1.4 !important;
  color: #374151 !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  height: auto !important;
  padding: 0 !important;
  width: 100% !important;
  text-align: left !important;
}

.modern-dialog[class] .dialog-content[class] .section-content[class] > .el-form-item:not(.form-row .el-form-item) .el-form-item__content {
  flex: 1 !important;
  margin: 0 !important;
  width: 100% !important;
}

/* ‰øÆÂ§çform-sectionÂûÇÁõ¥Â∑¶ÂØπÈΩêÈóÆÈ¢ò */
.modern-dialog[class] .dialog-content[class] {
  padding: 24px !important;
  background: #f8fafc !important;
}

.modern-dialog[class] .dialog-content[class] .form-section[class] {
  background: white !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 12px !important;
  margin: 0 0 20px 0 !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  overflow: hidden !important;
  position: static !important;
  transform: none !important;
  transition: none !important;
  width: 100% !important;
  box-sizing: border-box !important;
  /* Á°Æ‰øùÂÆåÁæéÁöÑÂ∑¶ÂØπÈΩê */
  margin-left: 0 !important;
  margin-right: 0 !important;
  padding: 0 !important;
}

.modern-dialog[class] .dialog-content[class] .section-title[class] {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  color: white !important;
  padding: 16px 24px !important;
  margin: 0 !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  /* Á°Æ‰øùÊ†áÈ¢òÂ∑¶ÂØπÈΩê */
  padding-left: 24px !important;
  padding-right: 24px !important;
}

.modern-dialog[class] .dialog-content[class] .section-content[class] {
  padding: 24px !important;
  background: white !important;
  margin: 0 !important;
  /* Á°Æ‰øùÂÜÖÂÆπÂå∫ÂüüÂ∑¶ÂØπÈΩê */
  padding-left: 24px !important;
  padding-right: 24px !important;
}

/* Á°Æ‰øùÊâÄÊúâËæìÂÖ•Ê°ÜÈ´òÂ∫¶‰∏ÄËá¥ */
.modern-dialog[class] .dialog-content[class] .el-input .el-input__wrapper,
.modern-dialog[class] .dialog-content[class] .el-select .el-select__wrapper,
.modern-dialog[class] .dialog-content[class] .el-input-number .el-input__wrapper {
  height: 40px !important;
  min-height: 40px !important;
  box-sizing: border-box !important;
}

/* üéØ È¢ÑËßàÂØπËØùÊ°ÜÁæéÂåñÊ†∑Âºè‰øÆÂ§ç */

/* ‰øÆÂ§çÈ¢òÁõÆÊ†áÈ¢òÊñáÂ≠óÊå§ÂéãÈóÆÈ¢ò */
.preview-dialog .preview-header .question-title {
  font-size: 20px !important;
  font-weight: 600 !important;
  color: #1f2937 !important;
  line-height: 1.6 !important;
  margin: 0 0 16px 0 !important;
  padding: 0 8px !important;
  letter-spacing: 0.5px !important;
  word-spacing: 2px !important;
  background: none !important;
  -webkit-background-clip: unset !important;
  -webkit-text-fill-color: unset !important;
  background-clip: unset !important;
  text-align: center !important;
}

/* ÁæéÂåñÈ¢òÁõÆÊèèËø∞Ê°Ü */
.preview-dialog .question-content {
  font-size: 16px !important;
  line-height: 1.8 !important;
  color: #374151 !important;
  padding: 20px 24px !important;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
  border: 2px solid #6366f1 !important;
  border-radius: 16px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
  margin: 16px 0 !important;
}

/* Â∑≤ÁßªÈô§È¢òÁõÆÊèèËø∞Ê°Ü‰∏äÊñπÁöÑË£ÖÈ•∞Á∫ø */

/* ÁæéÂåñÁ≠îÊ°àËß£ÊûêÊ°Ü */
.preview-dialog .content-section {
  margin-bottom: 24px !important;
}

.preview-dialog .content-section:last-child {
  margin-bottom: 0 !important;
}

/* ÁæéÂåñsectionÊ†áÈ¢ò */
.preview-dialog .section-header {
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  color: #1f2937 !important;
  margin-bottom: 16px !important;
  padding: 12px 16px !important;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 12px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
}

.preview-dialog .section-header .el-icon {
  font-size: 18px !important;
  color: #6366f1 !important;
}

/* ÁæéÂåñÈÄâÈ°πÊòæÁ§∫ */
.preview-dialog .option-display {
  display: flex !important;
  align-items: center !important;
  gap: 16px !important;
  padding: 16px 20px !important;
  background: white !important;
  border: 2px solid #e5e7eb !important;
  border-radius: 12px !important;
  transition: all 0.2s ease !important;
  margin-bottom: 12px !important;
}

.preview-dialog .option-display:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;
  transform: translateY(-1px) !important;
  border-color: #d1d5db !important;
}

.preview-dialog .option-display.correct-option {
  border-color: #10b981 !important;
  background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%) !important;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.15) !important;
}

.preview-dialog .option-prefix {
  width: 36px !important;
  height: 36px !important;
  border-radius: 50% !important;
  background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%) !important;
  color: #6b7280 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  flex-shrink: 0 !important;
}

.preview-dialog .correct-option .option-prefix {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
  color: white !important;
  box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3) !important;
}

.preview-dialog .option-text {
  flex: 1 !important;
  font-size: 15px !important;
  color: #374151 !important;
  line-height: 1.5 !important;
}

/* ÁæéÂåñÁ≠îÊ°àÊòæÁ§∫Ê°Ü */
.preview-dialog .answer-display {
  padding: 20px 24px !important;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
  border: 2px solid #8b5cf6 !important;
  border-radius: 16px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
  margin: 16px 0 !important;
}

.preview-dialog .answer-content {
  font-size: 16px !important;
  line-height: 1.7 !important;
  color: #374151 !important;
  margin: 0 !important;
}

/* ÁæéÂåñÈ¢ÑËßàÂ§¥ÈÉ® */
.preview-dialog .preview-header {
  text-align: center !important;
  margin-bottom: 32px !important;
  padding-bottom: 24px !important;
  border-bottom: 2px solid #f1f5f9 !important;
}

/* Â∑≤ÁßªÈô§Â§ö‰ΩôÁöÑË£ÖÈ•∞Á∫øÊù° */

.preview-dialog .question-meta {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 16px !important;
  margin-top: 16px !important;
  flex-wrap: wrap !important;
}

.preview-dialog .meta-item {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  padding: 6px 12px !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 20px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
}

.preview-dialog .meta-item .el-icon {
  font-size: 14px !important;
  color: #6b7280 !important;
}

/* ÁæéÂåñÂØπËØùÊ°ÜÂÜÖÂÆπÂå∫Âüü */
.preview-dialog .preview-content {
  padding: 32px !important;
  background: white !important;
  max-height: 75vh !important;
  overflow-y: auto !important;
}

/* ÁæéÂåñÊªöÂä®Êù° */
.preview-dialog .preview-content::-webkit-scrollbar {
  width: 6px !important;
}

.preview-dialog .preview-content::-webkit-scrollbar-track {
  background: #f1f5f9 !important;
  border-radius: 3px !important;
}

.preview-dialog .preview-content::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%) !important;
  border-radius: 3px !important;
}

.preview-dialog .preview-content::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%) !important;
}

/* ÁæéÂåñÂØπËØùÊ°ÜÊú¨Ë∫´ */
.preview-dialog :deep(.el-dialog) {
  border-radius: 20px !important;
  overflow: hidden !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15) !important;
}

.preview-dialog :deep(.el-dialog__header) {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%) !important;
  color: white !important;
  padding: 20px 32px !important;
  border-bottom: none !important;
}

.preview-dialog :deep(.el-dialog__title) {
  font-size: 18px !important;
  font-weight: 600 !important;
  color: white !important;
}

.preview-dialog :deep(.el-dialog__close) {
  color: white !important;
  font-size: 20px !important;
}

.preview-dialog :deep(.el-dialog__close):hover {
  color: #f3f4f6 !important;
}

.preview-dialog :deep(.el-dialog__body) {
  padding: 0 !important;
}

/* üéØ ÁºñËæëÂØπËØùÊ°ÜÂØπÈΩêÈóÆÈ¢òÁ≤æÂáÜ‰øÆÂ§ç */

/* ‰øÆÂ§çÈ¢òÁõÆÊ†áÈ¢òÊ†áÁ≠æ‰∏éËæìÂÖ•Ê°ÜÂûÇÁõ¥ÂØπÈΩêÈóÆÈ¢ò - ÈíàÂØπÁã¨Á´ãÁöÑform-item */
.modern-dialog .dialog-content .section-content > .el-form-item:not(.form-row .el-form-item) {
  display: flex !important;
  flex-direction: column !important;
  margin-bottom: 16px !important;
}

.modern-dialog .dialog-content .section-content > .el-form-item:not(.form-row .el-form-item) :deep(.el-form-item__label) {
  margin-bottom: 8px !important;
  line-height: 1.4 !important;
  color: #374151 !important;
  font-size: 13px !important;
  font-weight: 500 !important;
  height: auto !important;
  padding: 0 !important;
  width: 100% !important;
  text-align: left !important;
  display: block !important;
}

.modern-dialog .dialog-content .section-content > .el-form-item:not(.form-row .el-form-item) :deep(.el-form-item__content) {
  flex: 1 !important;
  margin: 0 !important;
  width: 100% !important;
  display: block !important;
}

/* ‰øÆÂ§çform-sectionÂûÇÁõ¥Â∑¶ÂØπÈΩêÈóÆÈ¢ò - Áªü‰∏ÄÂ∑¶ËæπË∑ù */
.modern-dialog .dialog-content {
  padding: 24px !important;
  background: #f8fafc !important;
}

.modern-dialog .dialog-content .form-section,
.modern-dialog .dialog-content .form-section.section-basic,
.modern-dialog .dialog-content .form-section.section-content {
  background: white !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 12px !important;
  margin: 0 0 20px 0 !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  overflow: hidden !important;
  position: static !important;
  transform: none !important;
  transition: none !important;
  width: 100% !important;
  box-sizing: border-box !important;
  /* Âº∫Âà∂Â∑¶ÂØπÈΩê - ÁßªÈô§‰ªª‰ΩïÂèØËÉΩÁöÑÂÅèÁßª */
  margin-left: 0 !important;
  margin-right: 0 !important;
  padding: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: auto !important;
  /* Á°Æ‰øùÂÆåÂÖ®ÈáçÁΩÆÊâÄÊúâÂèØËÉΩÁöÑÂÆö‰ΩçÂ±ûÊÄß */
  top: auto !important;
  bottom: auto !important;
  float: none !important;
  clear: none !important;
}

.modern-dialog .dialog-content .form-section:last-child {
  margin-bottom: 0 !important;
}

.modern-dialog .dialog-content .form-section:hover {
  transform: none !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  border-color: #e2e8f0 !important;
}

/* Á°Æ‰øùsectionÊ†áÈ¢òÂÆåÂÖ®Â∑¶ÂØπÈΩê */
.modern-dialog .dialog-content .section-title {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  color: white !important;
  padding: 16px 24px !important;
  margin: 0 !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

/* Á°Æ‰øùsectionÂÜÖÂÆπÂÆåÂÖ®Â∑¶ÂØπÈΩê */
.modern-dialog .dialog-content .section-content {
  padding: 24px !important;
  background: white !important;
  margin: 0 !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

/* Á°Æ‰øùÊâÄÊúâËæìÂÖ•Ê°ÜÈ´òÂ∫¶‰∏ÄËá¥Âπ∂Â∑¶ÂØπÈΩê */
.modern-dialog .dialog-content :deep(.el-input .el-input__wrapper),
.modern-dialog .dialog-content :deep(.el-select .el-select__wrapper),
.modern-dialog .dialog-content :deep(.el-input-number .el-input__wrapper) {
  height: 40px !important;
  min-height: 40px !important;
  box-sizing: border-box !important;
  width: 100% !important;
}

/* üéØ ÁªàÊûÅ‰øÆÂ§çÊñπÊ°à - ‰ΩøÁî®ÊúÄÂº∫ÈÄâÊã©Âô®ÊùÉÈáçÂº∫Âà∂Ë¶ÜÁõñÊâÄÊúâÂÜ≤Á™Å */

/* üéØ ULTIMATEËß£ÂÜ≥ÊñπÊ°à - Âº∫Âà∂sectionÂÆåÁæéÂ∑¶ÂØπÈΩê */

/* ‰ΩøÁî®ÊúÄÈ´ò‰ºòÂÖàÁ∫ßÈÄâÊã©Âô®ÂÆåÂÖ®ÈáçÂÜôform-sectionÊ†∑Âºè */
.modern-dialog[class] .dialog-content[class] .form-section[class],
.modern-dialog[class] .dialog-content[class] .form-section.section-basic[class],
.modern-dialog[class] .dialog-content[class] .form-section.section-content[class],
.modern-dialog[class] .dialog-content[class] .form-section.section-explanation[class] {
  /* ÂÆåÂÖ®ÈáçÁΩÆÊâÄÊúâÂèØËÉΩÂΩ±ÂìçÂØπÈΩêÁöÑÂ±ûÊÄß */
  position: static !important;
  float: none !important;
  clear: none !important;
  transform: none !important;
  translate: none !important;
  top: auto !important;
  bottom: auto !important;
  left: 0 !important;
  right: 0 !important;
  z-index: auto !important;
  
  /* Âº∫Âà∂Â∏ÉÂ±ÄÂ±ûÊÄß */
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  min-width: 0 !important;
  box-sizing: border-box !important;
  
  /* Âº∫Âà∂ËæπË∑ùÂíåÂÜÖËæπË∑ù */
  margin: 0 0 20px 0 !important;
  padding: 0 !important;
  
  /* ËßÜËßâÊ†∑Âºè */
  background: white !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 12px !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  overflow: hidden !important;
  transition: none !important;
}

/* ÊÇ¨ÂÅúÁä∂ÊÄÅÂÆåÂÖ®Á¶ÅÁî®transform */
.modern-dialog[class] .dialog-content[class] .form-section[class]:hover,
.modern-dialog[class] .dialog-content[class] .form-section.section-basic[class]:hover,
.modern-dialog[class] .dialog-content[class] .form-section.section-content[class]:hover {
  transform: none !important;
  translate: none !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
  border-color: #e2e8f0 !important;
}

/* ÊúÄÂêé‰∏Ä‰∏™sectionÁöÑÂ∫ïËæπË∑ù */
.modern-dialog[class] .dialog-content[class] .form-section[class]:last-child {
  margin-bottom: 0 !important;
}

/* Á°Æ‰øùÂØπËØùÊ°ÜÂÆπÂô®Ê≤°ÊúâÊÑèÂ§ñÁöÑÂÜÖËæπË∑ù */
.modern-dialog[class] .dialog-content[class] {
  padding: 24px !important;
  background: #f8fafc !important;
  /* Á°Æ‰øùÂÆπÂô®‰πüÂÆåÂÖ®ÈáçÁΩÆ */
  box-sizing: border-box !important;
  width: 100% !important;
  margin: 0 !important;
  position: relative !important;
}
</style> 