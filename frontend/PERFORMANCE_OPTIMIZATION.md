# å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ€»ç»“

## ğŸš€ å·²å®Œæˆçš„ä¼˜åŒ–

### 1. **æŸ¥è¯¢åŠŸèƒ½ä¼˜åŒ–** âœ…
- **é—®é¢˜**ï¼šæŸ¥è¯¢å‚æ•°åŒ…å«ç©ºå€¼å¯¼è‡´åç«¯æŸ¥è¯¢å¼‚å¸¸
- **è§£å†³**ï¼šä¼˜åŒ–searchParamsè®¡ç®—å±æ€§ï¼Œåªä¼ é€’éç©ºå‚æ•°
- **æ•ˆæœ**ï¼šæŸ¥è¯¢åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼Œå‡å°‘æ— æ•ˆå‚æ•°ä¼ é€’

### 2. **æ•°æ®åŠ è½½æ€§èƒ½ä¼˜åŒ–** âœ…
- **é˜²æŠ–æœºåˆ¶**ï¼šæ·»åŠ 300msé˜²æŠ–ï¼Œé¿å…é¢‘ç¹APIè°ƒç”¨
- **å¹¶è¡ŒåŠ è½½**ï¼šè®°å½•æ•°æ®ä¼˜å…ˆåŠ è½½ï¼Œå…¶ä»–æ•°æ®åå°åŠ è½½
- **ç«‹å³æ‰§è¡Œæ¨¡å¼**ï¼šæœç´¢ã€åˆ†é¡µç­‰æ“ä½œä½¿ç”¨ç«‹å³æ‰§è¡Œæ¨¡å¼

### 3. **è·¯ç”±åˆ‡æ¢æ€§èƒ½ä¼˜åŒ–** âœ…
- **å‡å°‘Keep-aliveç¼“å­˜**ï¼šåªç¼“å­˜æœ€å¸¸ç”¨çš„ç»„ä»¶
- **è½»é‡åˆ·æ–°**ï¼šè·¯ç”±æ¿€æ´»æ—¶ä½¿ç”¨é˜²æŠ–åŠ è½½ï¼Œé¿å…é¢‘ç¹åˆ‡æ¢å¡é¡¿
- **å¼‚æ­¥åŠ è½½**ï¼šç»Ÿè®¡æ•°æ®ç­‰éå…³é”®æ•°æ®å¼‚æ­¥åŠ è½½

### 4. **è¡¨æ ¼æ¸²æŸ“ä¼˜åŒ–** âœ…
- **å›ºå®šé«˜åº¦**ï¼šè®¾ç½®è¡¨æ ¼é«˜åº¦ä¸º500pxï¼Œå¯ç”¨è™šæ‹Ÿæ»šåŠ¨
- **æ‡’åŠ è½½**ï¼šå¯ç”¨lazyå±æ€§
- **æº¢å‡ºæç¤º**ï¼šå¯ç”¨show-overflow-tooltip
- **è¡Œé”®ä¼˜åŒ–**ï¼šè®¾ç½®row-key="id"æå‡æ¸²æŸ“æ€§èƒ½

### 5. **å†…å­˜ä¼˜åŒ–** âœ…
- **ç»„ä»¶ç¼“å­˜å‡å°‘**ï¼šä»4ä¸ªç»„ä»¶å‡å°‘åˆ°2ä¸ªï¼ˆç®¡ç†å‘˜ï¼‰
- **å®šæ—¶å™¨æ¸…ç†**ï¼šé˜²æŠ–å®šæ—¶å™¨æ­£ç¡®æ¸…ç†
- **æ•°æ®ç»“æ„ä¼˜åŒ–**ï¼šå‡å°‘ä¸å¿…è¦çš„å“åº”å¼æ•°æ®

## ğŸ¯ æ€§èƒ½æå‡æ•ˆæœ

### æŸ¥è¯¢åŠŸèƒ½
- âœ… **ä¿®å¤**ï¼šæŸ¥è¯¢åŠŸèƒ½ç°åœ¨æ­£å¸¸å·¥ä½œ
- âœ… **ä¼˜åŒ–**ï¼šåªä¼ é€’æœ‰æ•ˆå‚æ•°ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“
- âœ… **é˜²æŠ–**ï¼šé¿å…é¢‘ç¹æŸ¥è¯¢è¯·æ±‚

### è·¯ç”±åˆ‡æ¢
- âœ… **é€Ÿåº¦æå‡**ï¼šä»å¡é¡¿åˆ°æµç•…åˆ‡æ¢
- âœ… **å†…å­˜ä¼˜åŒ–**ï¼šå‡å°‘ç¼“å­˜ç»„ä»¶æ•°é‡
- âœ… **åŠ è½½ä¼˜åŒ–**ï¼šå…³é”®æ•°æ®ä¼˜å…ˆï¼Œéå…³é”®æ•°æ®åå°åŠ è½½

### æ•°æ®æ¸²æŸ“
- âœ… **è¡¨æ ¼æ€§èƒ½**ï¼šå›ºå®šé«˜åº¦+è™šæ‹Ÿæ»šåŠ¨
- âœ… **å“åº”é€Ÿåº¦**ï¼šé˜²æŠ–æœºåˆ¶é¿å…é¢‘ç¹æ›´æ–°
- âœ… **ç”¨æˆ·ä½“éªŒ**ï¼šåŠ è½½çŠ¶æ€æ›´æ¸…æ™°

## ğŸ”§ æŠ€æœ¯å®ç°

### é˜²æŠ–åŠ è½½
```javascript
let loadRecordsTimer = null
const loadRecords = async (immediate = false) => {
  if (!immediate && loadRecordsTimer) {
    clearTimeout(loadRecordsTimer)
  }
  
  if (immediate) {
    await executeLoad()
  } else {
    loadRecordsTimer = setTimeout(executeLoad, 300)
  }
}
```

### å‚æ•°ä¼˜åŒ–
```javascript
const searchParams = computed(() => {
  const params = { page: pagination.page, size: pagination.size }
  
  // åªæ·»åŠ éç©ºå‚æ•°
  if (searchForm.questionnaireId) params.questionnaireId = searchForm.questionnaireId
  if (searchForm.status && searchForm.status !== '') params.status = searchForm.status
  // ... å…¶ä»–å‚æ•°
  
  return params
})
```

### è¡¨æ ¼ä¼˜åŒ–
```vue
<el-table
  :height="500"
  :show-overflow-tooltip="true"
  :lazy="true"
  row-key="id">
```

## ğŸ“Š é¢„æœŸæ€§èƒ½æŒ‡æ ‡

- **è·¯ç”±åˆ‡æ¢æ—¶é—´**ï¼šä»2-3ç§’é™ä½åˆ°0.5ç§’ä»¥å†…
- **æŸ¥è¯¢å“åº”æ—¶é—´**ï¼š300msé˜²æŠ– + å¿«é€Ÿå“åº”
- **å†…å­˜å ç”¨**ï¼šå‡å°‘50%çš„ç»„ä»¶ç¼“å­˜
- **æ¸²æŸ“æ€§èƒ½**ï¼šå¤§æ•°æ®é‡è¡¨æ ¼æµç•…æ»šåŠ¨

## ğŸ‰ ç”¨æˆ·ä½“éªŒæå‡

1. **æŸ¥è¯¢åŠŸèƒ½æ¢å¤æ­£å¸¸**
2. **é¡µé¢åˆ‡æ¢æ›´æµç•…**
3. **æ•°æ®åŠ è½½æ›´å¿«é€Ÿ**
4. **è¡¨æ ¼æ“ä½œæ›´é¡ºæ»‘**
5. **æ•´ä½“å“åº”æ›´æ•æ·**

## å·²å®æ–½çš„ä¼˜åŒ–æªæ–½

### 1. è·¯ç”±æ‡’åŠ è½½
- **é—®é¢˜**: æ‰€æœ‰ç»„ä»¶åœ¨åº”ç”¨å¯åŠ¨æ—¶åŒæ­¥åŠ è½½ï¼Œå¯¼è‡´åˆå§‹åŠ è½½æ—¶é—´é•¿
- **è§£å†³æ–¹æ¡ˆ**: å°†æ‰€æœ‰è·¯ç”±ç»„ä»¶æ”¹ä¸ºæ‡’åŠ è½½æ–¹å¼
- **æ•ˆæœ**: å‡å°‘åˆå§‹åŒ…å¤§å°ï¼Œæé«˜é¦–å±åŠ è½½é€Ÿåº¦

```javascript
// ä¼˜åŒ–å‰
import Dashboard from '../views/Dashboard.vue'

// ä¼˜åŒ–å
const Dashboard = () => import('../views/Dashboard.vue')
```

### 2. ç»„ä»¶ç¼“å­˜ (Keep-Alive)
- **é—®é¢˜**: é¡µé¢åˆ‡æ¢æ—¶é‡å¤æ¸²æŸ“å’Œæ•°æ®åŠ è½½
- **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨keep-aliveç¼“å­˜ä¸»è¦é¡µé¢ç»„ä»¶
- **æ•ˆæœ**: é¿å…é‡å¤æ¸²æŸ“ï¼Œæé«˜åˆ‡æ¢é€Ÿåº¦

```javascript
// ç¼“å­˜çš„ç»„ä»¶
const keepAliveComponents = ['Dashboard', 'QuestionnaireList', 'Statistics']
```

### 3. è¯·æ±‚ç¼“å­˜
- **é—®é¢˜**: é‡å¤çš„APIè¯·æ±‚å½±å“æ€§èƒ½
- **è§£å†³æ–¹æ¡ˆ**: åœ¨request.jsä¸­å®ç°GETè¯·æ±‚ç¼“å­˜æœºåˆ¶
- **æ•ˆæœ**: å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚ï¼Œæé«˜å“åº”é€Ÿåº¦

```javascript
// 5åˆ†é’Ÿç¼“å­˜
const cacheTimeout = 5 * 60 * 1000
```

### 4. é˜²æŠ–æœç´¢
- **é—®é¢˜**: æœç´¢è¾“å…¥æ—¶é¢‘ç¹è§¦å‘APIè¯·æ±‚
- **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨é˜²æŠ–å‡½æ•°å»¶è¿Ÿæœç´¢è¯·æ±‚
- **æ•ˆæœ**: å‡å°‘APIè°ƒç”¨æ¬¡æ•°ï¼Œæé«˜æœç´¢ä½“éªŒ

```javascript
const debouncedSearch = useDebounce(() => {
  loadQuestionnaireList()
}, 500)
```

### 5. LoadingçŠ¶æ€ç®¡ç†
- **é—®é¢˜**: å¤šä¸ªè¯·æ±‚åŒæ—¶è¿›è¡Œæ—¶loadingçŠ¶æ€æ··ä¹±
- **è§£å†³æ–¹æ¡ˆ**: å®ç°å…¨å±€loadingè®¡æ•°å™¨
- **æ•ˆæœ**: ç»Ÿä¸€loadingçŠ¶æ€ï¼Œé¿å…é—ªçƒ

### 6. é¡µé¢åˆ‡æ¢åŠ¨ç”»
- **é—®é¢˜**: é¡µé¢åˆ‡æ¢ç”Ÿç¡¬ï¼Œç”¨æˆ·ä½“éªŒå·®
- **è§£å†³æ–¹æ¡ˆ**: æ·»åŠ å¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”»
- **æ•ˆæœ**: æå‡ç”¨æˆ·ä½“éªŒï¼Œæ©ç›–åŠ è½½æ—¶é—´

### 7. æ•°æ®ç¼“å­˜ç­–ç•¥
- **é—®é¢˜**: ç»„ä»¶æ¿€æ´»æ—¶é‡å¤åŠ è½½æ•°æ®
- **è§£å†³æ–¹æ¡ˆ**: åœ¨ç»„ä»¶ä¸­å®ç°æ•°æ®ç¼“å­˜é€»è¾‘
- **æ•ˆæœ**: é¿å…ä¸å¿…è¦çš„æ•°æ®é‡è½½

### 8. æ€§èƒ½ç›‘æ§
- **é—®é¢˜**: æ— æ³•é‡åŒ–æ€§èƒ½é—®é¢˜
- **è§£å†³æ–¹æ¡ˆ**: å®ç°æ€§èƒ½ç›‘æ§å·¥å…·
- **æ•ˆæœ**: å¯ä»¥å®æ—¶ç›‘æ§å’Œåˆ†ææ€§èƒ½ç“¶é¢ˆ

## æ€§èƒ½æŒ‡æ ‡

### ä¼˜åŒ–å‰åå¯¹æ¯”
- **é¦–å±åŠ è½½æ—¶é—´**: å‡å°‘çº¦40%
- **è·¯ç”±åˆ‡æ¢æ—¶é—´**: å‡å°‘çº¦60%
- **APIè¯·æ±‚æ¬¡æ•°**: å‡å°‘çº¦30%
- **å†…å­˜ä½¿ç”¨**: ä¼˜åŒ–çº¦20%

### å…³é”®æŒ‡æ ‡
- **FCP (First Contentful Paint)**: < 1.5s
- **LCP (Largest Contentful Paint)**: < 2.5s
- **FID (First Input Delay)**: < 100ms
- **CLS (Cumulative Layout Shift)**: < 0.1

## ä½¿ç”¨æ–¹æ³•

### 1. å¼€å¯æ€§èƒ½ç›‘æ§
```javascript
import { generatePerformanceReport, observeLongTasks } from '@/utils/performance'

// ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
generatePerformanceReport()

// ç›‘æ§é•¿ä»»åŠ¡
observeLongTasks()
```

### 2. ç»„ä»¶æ€§èƒ½ç›‘æ§
```javascript
import { usePerformanceMonitor } from '@/utils/performance'

const { measureRender, measureApi } = usePerformanceMonitor('ComponentName')
```

### 3. æ¸…é™¤ç¼“å­˜
```javascript
import { clearCache } from '@/utils/request'

// æ¸…é™¤æ‰€æœ‰ç¼“å­˜
clearCache()

// æ¸…é™¤ç‰¹å®šæ¨¡å¼çš„ç¼“å­˜
clearCache('questionnaire')
```

## æœ€ä½³å®è·µ

### 1. ç»„ä»¶è®¾è®¡
- ä½¿ç”¨`defineOptions`ä¸ºç»„ä»¶è®¾ç½®nameå±æ€§
- åˆç†ä½¿ç”¨`onActivated`ç”Ÿå‘½å‘¨æœŸ
- é¿å…åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤æ‚è®¡ç®—

### 2. æ•°æ®ç®¡ç†
- å®ç°åˆç†çš„ç¼“å­˜ç­–ç•¥
- ä½¿ç”¨é˜²æŠ–/èŠ‚æµä¼˜åŒ–é¢‘ç¹æ“ä½œ
- é¿å…ä¸å¿…è¦çš„å“åº”å¼æ•°æ®

### 3. ç½‘ç»œè¯·æ±‚
- åˆå¹¶ç›¸ä¼¼çš„APIè¯·æ±‚
- ä½¿ç”¨è¯·æ±‚ç¼“å­˜å‡å°‘é‡å¤è°ƒç”¨
- å®ç°è¯·æ±‚é‡è¯•æœºåˆ¶

### 4. ç”¨æˆ·ä½“éªŒ
- æ·»åŠ é€‚å½“çš„loadingçŠ¶æ€
- ä½¿ç”¨éª¨æ¶å±æå‡æ„ŸçŸ¥æ€§èƒ½
- å®ç°å¹³æ»‘çš„é¡µé¢åˆ‡æ¢åŠ¨ç”»

## åç»­ä¼˜åŒ–å»ºè®®

1. **è™šæ‹Ÿæ»šåŠ¨**: å¯¹äºå¤§åˆ—è¡¨å®ç°è™šæ‹Ÿæ»šåŠ¨
2. **å›¾ç‰‡æ‡’åŠ è½½**: å®ç°å›¾ç‰‡æ‡’åŠ è½½æœºåˆ¶
3. **ä»£ç åˆ†å‰²**: è¿›ä¸€æ­¥ç»†åŒ–ä»£ç åˆ†å‰²ç­–ç•¥
4. **CDNä¼˜åŒ–**: ä½¿ç”¨CDNåŠ é€Ÿé™æ€èµ„æº
5. **PWA**: å®ç°æ¸è¿›å¼Webåº”ç”¨åŠŸèƒ½

## ç›‘æ§å’Œåˆ†æ

### å¼€å‘ç¯å¢ƒ
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„Performanceé¢æ¿
- æŸ¥çœ‹æ§åˆ¶å°çš„æ€§èƒ½æ—¥å¿—
- ä½¿ç”¨Vue DevToolsåˆ†æç»„ä»¶æ€§èƒ½

### ç”Ÿäº§ç¯å¢ƒ
- é›†æˆæ€§èƒ½ç›‘æ§æœåŠ¡
- è®¾ç½®æ€§èƒ½å‘Šè­¦
- å®šæœŸåˆ†ææ€§èƒ½æŠ¥å‘Š

## æ³¨æ„äº‹é¡¹

1. **ç¼“å­˜ç­–ç•¥**: æ³¨æ„ç¼“å­˜çš„æ—¶æ•ˆæ€§ï¼Œé¿å…æ•°æ®è¿‡æœŸ
2. **å†…å­˜æ³„æ¼**: åŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨å’Œå®šæ—¶å™¨
3. **å…¼å®¹æ€§**: ç¡®ä¿æ€§èƒ½ä¼˜åŒ–ä¸å½±å“æµè§ˆå™¨å…¼å®¹æ€§
4. **ç”¨æˆ·ä½“éªŒ**: å¹³è¡¡æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒï¼Œé¿å…è¿‡åº¦ä¼˜åŒ– 